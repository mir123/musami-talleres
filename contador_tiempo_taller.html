<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contador de tiempo para talleres de la Alcald√≠a de San Miguelito</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rubik Medium', sans-serif;
            background: #000;
            color: #fff;
            overflow: hidden;
        }

        #display {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: #000;
            z-index: 10;
        }

        #logo {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 150px;
            height: auto;
            z-index: 15;
        }

        #logo svg {
            width: 100%;
            height: auto;
        }

        #currentActivity {
            font-size: 8vw;
            font-weight: bold;
            text-align: center;
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            padding: 20px;
            word-wrap: break-word;
        }

        #timeRemaining {
            font-family: inherit;
        }

        #timeRemaining {
            font-size: 6vw;
            font-weight: bold;
            margin-top: 40px;
            color: #fff;
        }

        #timeRemaining.warning-5 {
            color: #ffaa00;
        }

        #timeRemaining.warning-3 {
            color: #ff6600;
        }

        #timeRemaining.warning-1 {
            color: #ff0000;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        #configPanel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            z-index: 20;
            display: none;
            overflow-y: auto;
            padding: 20px;
        }

        #configPanel.active {
            display: block;
        }

        .config-content {
            max-width: 800px;
            margin: 0 auto;
        }

        h1 {
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-size: 1.2em;
        }

        input, textarea {
            width: 100%;
            padding: 10px;
            font-size: 1em;
            background: #222;
            color: #fff;
            border: 1px solid #444;
            border-radius: 4px;
        }

        button {
            padding: 12px 24px;
            font-size: 1.1em;
            background: #0066cc;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        button:hover {
            background: #0052a3;
        }

        button.danger {
            background: #cc0000;
        }

        button.danger:hover {
            background: #990000;
        }

        button.edit {
            background: #ff9900;
        }

        button.edit:hover {
            background: #cc7700;
        }

        button.cancel {
            background: #666;
        }

        button.cancel:hover {
            background: #444;
        }

        .error-message {
            color: #ff0000;
            margin-top: 10px;
            padding: 10px;
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid #ff0000;
            border-radius: 4px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        #activitiesList {
            margin-top: 30px;
        }

        .activity-item {
            background: #111;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 4px;
            border-left: 4px solid #0066cc;
        }

        .activity-item strong {
            color: #0066cc;
        }

        .toggle-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 30;
            padding: 10px 15px;
            font-size: 1em;
            background: #333;
            border: 2px solid #666;
            border-radius: 4px;
            text-align: center;
        }

        .toggle-btn:hover {
            background: #444;
        }

        .info-btn {
            position: fixed;
            bottom: 20px;
            right: 80px;
            z-index: 30;
            padding: 10px 15px;
            font-size: 1em;
            background: #333;
            border: 2px solid #666;
            border-radius: 4px;
            cursor: pointer;
            color: #fff;
            font-weight: bold;
            text-align: center;
        }

        .info-btn:hover {
            background: #444;
        }

        #infoPanel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            z-index: 25;
            display: none;
            overflow-y: auto;
            padding: 20px;
        }

        #infoPanel.active {
            display: block;
        }

        .info-content {
            max-width: 800px;
            margin: 0 auto;
            color: #fff;
        }

        .info-content h1 {
            margin-bottom: 20px;
            font-size: 2em;
        }

        .info-content h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.5em;
            color: #0066cc;
        }

        .info-content p {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .info-content ul, .info-content ol {
            margin-bottom: 15px;
            padding-left: 30px;
        }

        .info-content li {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .info-content code {
            background: #222;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }

        .close-info-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            font-size: 1.1em;
            background: #cc0000;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .close-info-btn:hover {
            background: #990000;
        }

        .control-buttons {
            position: fixed;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 30;
        }

        .control-btn {
            padding: 8px 12px;
            font-size: 0.9em;
            background: #333;
            border: 2px solid #666;
            border-radius: 4px;
            cursor: pointer;
            color: #fff;
            min-width: 45px;
            text-align: center;
        }

        #clock {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 15;
            font-size: 2.5vw;
            font-weight: bold;
            color: #fff;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            font-family: 'Rubik Medium', monospace;
        }

        .control-btn:hover {
            background: #444;
        }

        .control-btn:active {
            background: #555;
        }

        .control-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .control-btn.disabled:hover {
            background: #333;
        }

        .csv-buttons {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #444;
        }

        .font-config {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #444;
        }

        select {
            width: 100%;
            padding: 10px;
            font-size: 1em;
            background: #222;
            color: #fff;
            border: 1px solid #444;
            border-radius: 4px;
        }

        .font-preview {
            margin-top: 10px;
            padding: 15px;
            background: #111;
            border: 1px solid #444;
            border-radius: 4px;
            font-size: 2em;
            text-align: center;
        }

        .time-selector {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .time-selector select {
            flex: 1;
            padding: 10px;
            font-size: 1.1em;
        }

        .time-separator {
            font-size: 1.5em;
            font-weight: bold;
            color: #666;
        }
    </style>
</head>
<body>
    <div id="clock"></div>

    <div id="display">
        <div id="currentActivity">Configura las actividades</div>
        <div id="timeRemaining"></div>
    </div>

    <div id="logo">
        <?xml version="1.0" encoding="UTF-8"?>
        <svg data-name="Capa 1" version="1.1" viewBox="0 0 829.65 351.42" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
         <defs>
          <style>.cls-1 {fill: none;} .cls-2 {fill: #d16f13;} .cls-3 {fill: #c59277;} .cls-4 {fill: #5290ba;} .cls-5 {fill: #a2775c;} .cls-6 {fill: #4b4b8d;} .cls-7 {fill: #b99138;} .cls-8 {fill: #373737;} .cls-9 {fill: url(#Degradado_sin_nombre_11-2);} .cls-10 {fill: url(#Degradado_sin_nombre_11-3);} .cls-11 {fill: url(#Degradado_sin_nombre_11-4);} .cls-12 {fill: url(#Degradado_sin_nombre_10-2);} .cls-13 {fill: url(#Degradado_sin_nombre_12-2);} .cls-14 {fill: #1c4c30;} .cls-15 {fill: #303030;} .cls-16 {fill: #3d815c;} .cls-17 {fill: #387c8e;} .cls-18 {fill: #d984c1;} .cls-19 {fill: #fff;} .cls-20 {fill: #a5a726;} .cls-21 {fill: #dbad45;} .cls-22 {fill: #6666c2;} .cls-23 {fill: #b63586;} .cls-24 {fill: url(#Degradado_sin_nombre_8);} .cls-25 {fill: #003677;} .cls-26 {fill: #eec353;} .cls-27 {fill: #f3ba06;} .cls-28 {fill: url(#Degradado_sin_nombre_10);} .cls-29 {fill: url(#Degradado_sin_nombre_11);} .cls-30 {fill: url(#Degradado_sin_nombre_12);} .cls-31 {fill: #be56ab;} .cls-32 {fill: #8b186e;} .cls-33 {fill: #787380;} .cls-34 {clip-path: url(#clippath);
              }</style>
          <clipPath id="clippath">
           <path class="cls-1" d="M228.43,54.03v218.1c0,5.82-1.92,11.19-5.16,15.51-4.72,6.3-12.24,10.38-20.72,10.38h-108.69c-8.48,0-16-4.08-20.72-10.38-3.24-4.32-5.16-9.69-5.16-15.51V54.03h160.45Z"/>
          </clipPath>
          <linearGradient id="Degradado_sin_nombre_11" x1="148.2" x2="148.2" y1="134.4" y2="157.6" data-name="Degradado sin nombre 11" gradientUnits="userSpaceOnUse">
           <stop stop-color="#c61b2f" offset=".2"/>
           <stop stop-color="#c9272f" offset=".23"/>
           <stop stop-color="#d76232" offset=".4"/>
           <stop stop-color="#e29034" offset=".56"/>
           <stop stop-color="#ebb235" offset=".7"/>
           <stop stop-color="#f0c636" offset=".81"/>
           <stop stop-color="#f2ce37" offset=".89"/>
          </linearGradient>
          <linearGradient id="Degradado_sin_nombre_11-2" x1="148.2" x2="148.2" y1="131.86" y2="109.09" data-name="Degradado sin nombre 11" xlink:href="#Degradado_sin_nombre_11"/>
          <linearGradient id="Degradado_sin_nombre_12" x1="111.6" x2="134.16" y1="130.21" y2="130.21" data-name="Degradado sin nombre 12" gradientUnits="userSpaceOnUse">
           <stop stop-color="#f2ce37" offset=".11"/>
           <stop stop-color="#f0c636" offset=".19"/>
           <stop stop-color="#ebb235" offset=".3"/>
           <stop stop-color="#e29034" offset=".44"/>
           <stop stop-color="#d76232" offset=".6"/>
           <stop stop-color="#c9272f" offset=".77"/>
           <stop stop-color="#c61b2f" offset=".8"/>
          </linearGradient>
          <linearGradient id="Degradado_sin_nombre_12-2" x1="125.08" x2="140.82" y1="128.35" y2="128.35" data-name="Degradado sin nombre 12" xlink:href="#Degradado_sin_nombre_12"/>
          <linearGradient id="Degradado_sin_nombre_11-3" x1="162.23" x2="184.78" y1="130.21" y2="130.21" data-name="Degradado sin nombre 11" xlink:href="#Degradado_sin_nombre_11"/>
          <linearGradient id="Degradado_sin_nombre_11-4" x1="155.56" x2="171.3" y1="128.35" y2="128.35" data-name="Degradado sin nombre 11" xlink:href="#Degradado_sin_nombre_11"/>
          <linearGradient id="Degradado_sin_nombre_10" x1="153.2" x2="239.25" y1="199.92" y2="199.92" data-name="Degradado sin nombre 10" gradientUnits="userSpaceOnUse">
           <stop stop-color="#a2ac48" offset="0"/>
           <stop stop-color="#9aa646" offset=".11"/>
           <stop stop-color="#859742" offset=".27"/>
           <stop stop-color="#637f3c" offset=".47"/>
           <stop stop-color="#355e34" offset=".69"/>
           <stop stop-color="#1c4c30" offset=".8"/>
          </linearGradient>
          <linearGradient id="Degradado_sin_nombre_10-2" x1="57.16" x2="143.21" y1="199.92" y2="199.92" data-name="Degradado sin nombre 10" xlink:href="#Degradado_sin_nombre_10"/>
          <radialGradient id="Degradado_sin_nombre_8" cx="150.09" cy="237.43" r="18.96" data-name="Degradado sin nombre 8" gradientTransform="translate(0 -642.46) scale(1 3.71)" gradientUnits="userSpaceOnUse">
           <stop stop-color="#f2ce37" offset=".16"/>
           <stop stop-color="#f1cb36" offset=".17"/>
           <stop stop-color="#da6d32" offset=".5"/>
           <stop stop-color="#cb3230" offset=".73"/>
           <stop stop-color="#c61b2f" offset=".84"/>
          </radialGradient>
         </defs>
         <path class="cls-19" d="M273.37,153.06c-.45,0-.83-.16-1.13-.49-.3-.33-.45-.69-.45-1.09,0-.25.02-.47.07-.68l17.9-48.35c.15-.55.45-1.03.9-1.43.45-.4,1.07-.6,1.88-.6h9.62c.8,0,1.43.2,1.88.6.45.4.75.88.9,1.43l17.9,48.35c.05.2.07.43.07.68,0,.4-.15.77-.45,1.09-.3.33-.68.49-1.13.49h-7.82c-.75,0-1.3-.18-1.65-.53-.35-.35-.58-.68-.68-.98l-3.23-8.42h-21.2l-3.24,8.42c-.1.3-.33.63-.68.98-.35.35-.9.53-1.65.53h-7.82ZM289.54,133.43h15.57l-7.75-21.66-7.82,21.66Z"/>
         <path class="cls-19" d="M330.44,153.06c-.55,0-1-.18-1.35-.53-.35-.35-.53-.8-.53-1.35v-49.63c0-.55.18-1,.53-1.35.35-.35.8-.53,1.35-.53h7.52c.5,0,.92.18,1.28.53.35.35.53.8.53,1.35v49.63c0,.55-.18,1-.53,1.35-.35.35-.78.53-1.28.53h-7.52Z"/>
         <path class="cls-19" d="M366.61,153.81c-3.66,0-6.88-.68-9.66-2.03-2.78-1.35-4.98-3.32-6.58-5.9-1.6-2.58-2.48-5.68-2.63-9.29-.05-.8-.07-1.82-.07-3.04s.02-2.24.07-3.05c.15-3.66,1.01-6.78,2.59-9.36,1.58-2.58,3.77-4.55,6.58-5.9,2.81-1.35,6.04-2.03,9.7-2.03,3.36,0,6.22.46,8.58,1.39,2.35.93,4.28,2.09,5.79,3.5,1.5,1.4,2.62,2.87,3.34,4.4.73,1.53,1.12,2.87,1.17,4.02.05.5-.11.94-.49,1.32-.38.37-.82.56-1.32.56h-8.05c-.5,0-.89-.14-1.16-.42-.28-.27-.54-.66-.79-1.16-.7-1.75-1.6-3.01-2.71-3.76-1.1-.75-2.48-1.13-4.13-1.13-2.26,0-4.04.73-5.34,2.18-1.31,1.46-2.01,3.71-2.11,6.77-.05,1.96-.05,3.74,0,5.34.15,3.11.87,5.36,2.15,6.77,1.28,1.4,3.05,2.11,5.3,2.11,1.75,0,3.16-.38,4.21-1.13,1.05-.75,1.93-2.01,2.63-3.76.2-.5.45-.89.75-1.16.3-.27.7-.41,1.2-.41h8.05c.5,0,.94.19,1.32.56.37.37.54.81.49,1.32-.05.85-.29,1.85-.72,3.01-.43,1.15-1.1,2.33-2.03,3.53-.93,1.2-2.12,2.32-3.57,3.35-1.45,1.03-3.22,1.85-5.3,2.48-2.08.63-4.5.94-7.26.94Z"/>
         <path class="cls-19" d="m404.35 153.81c-2.66 0-5.04-0.51-7.14-1.54-2.11-1.03-3.79-2.42-5.04-4.17s-1.88-3.71-1.88-5.87c0-3.56 1.44-6.36 4.32-8.42s6.68-3.46 11.39-4.21l9.85-1.43v-1.35c0-1.95-0.45-3.46-1.35-4.51s-2.48-1.58-4.74-1.58c-1.66 0-2.98 0.33-3.99 0.98s-1.78 1.5-2.33 2.56c-0.4 0.65-0.98 0.98-1.73 0.98h-7.15c-0.55 0-0.98-0.16-1.28-0.49s-0.43-0.71-0.37-1.16c0-0.85 0.33-1.85 0.98-3.01 0.65-1.15 1.65-2.29 3.01-3.42 1.35-1.13 3.08-2.07 5.19-2.82s4.69-1.13 7.74-1.13 5.86 0.37 8.12 1.13c2.26 0.75 4.06 1.8 5.42 3.16 1.35 1.35 2.36 2.92 3.01 4.7s0.98 3.7 0.98 5.75v23.24c0 0.55-0.18 1-0.53 1.35s-0.8 0.53-1.36 0.53h-7.37c-0.5 0-0.93-0.18-1.28-0.53s-0.53-0.8-0.53-1.35v-2.78c-0.65 0.95-1.53 1.84-2.63 2.67s-2.42 1.49-3.95 1.99-3.32 0.75-5.37 0.75zm3.01-7.82c1.65 0 3.13-0.35 4.43-1.05s2.33-1.78 3.08-3.23 1.13-3.28 1.13-5.49v-1.28l-6.99 1.13c-2.71 0.45-4.69 1.13-5.94 2.03s-1.88 2.01-1.88 3.31c0 0.95 0.29 1.78 0.87 2.48 0.57 0.7 1.34 1.23 2.29 1.58s1.95 0.53 3.01 0.53z"/>
         <path class="cls-19" d="M438.34,153.06c-.55,0-1-.18-1.35-.53-.35-.35-.53-.8-.53-1.35v-49.63c0-.55.18-1,.53-1.35.35-.35.8-.53,1.35-.53h7.52c.5,0,.92.18,1.28.53.35.35.53.8.53,1.35v49.63c0,.55-.18,1-.53,1.35-.35.35-.78.53-1.28.53h-7.52Z"/>
         <path class="cls-19" d="m471.65 153.81c-2.51 0-4.74-0.41-6.69-1.24s-3.61-2.03-4.96-3.61-2.38-3.46-3.08-5.64-1.13-4.6-1.28-7.26c-0.05-0.95-0.07-1.82-0.07-2.59s0.02-1.62 0.07-2.52c0.1-2.61 0.51-4.99 1.24-7.14 0.72-2.16 1.75-4.02 3.08-5.6s2.98-2.81 4.96-3.68c1.98-0.88 4.22-1.32 6.73-1.32s4.84 0.44 6.69 1.32 3.38 2.02 4.59 3.42v-16.39c0-0.55 0.18-1 0.53-1.35s0.8-0.53 1.35-0.53h7.74c0.5 0 0.93 0.18 1.28 0.53s0.53 0.8 0.53 1.35v49.63c0 0.55-0.18 1-0.53 1.35s-0.78 0.53-1.28 0.53h-7.22c-0.5 0-0.93-0.18-1.28-0.53s-0.53-0.8-0.53-1.35v-2.56c-1.25 1.5-2.83 2.74-4.74 3.72s-4.29 1.47-7.14 1.47zm3.46-9.02c1.85 0 3.35-0.43 4.47-1.28 1.13-0.85 1.95-1.93 2.48-3.23s0.81-2.71 0.87-4.21c0.1-0.95 0.15-1.91 0.15-2.86s-0.05-1.88-0.15-2.78c-0.05-1.4-0.35-2.72-0.9-3.95s-1.39-2.24-2.52-3.05c-1.13-0.8-2.59-1.2-4.4-1.2-1.91 0-3.41 0.41-4.51 1.24s-1.89 1.92-2.37 3.27-0.77 2.83-0.86 4.44c-0.15 1.56-0.15 3.11 0 4.66 0.1 1.6 0.39 3.08 0.86 4.44 0.48 1.35 1.27 2.45 2.37 3.27 1.1 0.83 2.61 1.24 4.51 1.24z"/>
         <path class="cls-19" d="M505.71,153.06c-.5,0-.93-.18-1.28-.53-.35-.35-.53-.8-.53-1.35v-35.34c0-.55.18-1,.53-1.35.35-.35.77-.53,1.28-.53h7.52c.55,0,1,.18,1.36.53.35.35.53.8.53,1.35v35.34c0,.55-.18,1-.53,1.35-.35.35-.8.53-1.36.53h-7.52ZM505.71,108.32c-.8,0-1.21-.4-1.21-1.2,0-.4.13-.72.38-.98l6.39-7.74c.45-.6.87-.99,1.24-1.17.37-.18.89-.26,1.54-.26h8.65c.95,0,1.43.5,1.43,1.5,0,.35-.13.65-.37.9l-9.7,7.9c-.4.35-.79.61-1.16.79-.37.18-.89.26-1.54.26h-5.64Z"/>
         <path class="cls-19" d="m536.01 153.81c-2.66 0-5.04-0.51-7.14-1.54-2.11-1.03-3.79-2.42-5.04-4.17s-1.88-3.71-1.88-5.87c0-3.56 1.44-6.36 4.32-8.42s6.68-3.46 11.39-4.21l9.85-1.43v-1.35c0-1.95-0.45-3.46-1.35-4.51s-2.48-1.58-4.74-1.58c-1.66 0-2.98 0.33-3.99 0.98s-1.78 1.5-2.33 2.56c-0.4 0.65-0.98 0.98-1.73 0.98h-7.15c-0.55 0-0.98-0.16-1.28-0.49s-0.43-0.71-0.37-1.16c0-0.85 0.33-1.85 0.98-3.01 0.65-1.15 1.65-2.29 3.01-3.42 1.35-1.13 3.08-2.07 5.19-2.82s4.69-1.13 7.74-1.13 5.86 0.37 8.12 1.13c2.26 0.75 4.06 1.8 5.42 3.16 1.35 1.35 2.36 2.92 3.01 4.7s0.98 3.7 0.98 5.75v23.24c0 0.55-0.18 1-0.53 1.35s-0.8 0.53-1.36 0.53h-7.37c-0.5 0-0.93-0.18-1.28-0.53s-0.53-0.8-0.53-1.35v-2.78c-0.65 0.95-1.53 1.84-2.63 2.67s-2.42 1.49-3.95 1.99-3.32 0.75-5.37 0.75zm3.01-7.82c1.65 0 3.13-0.35 4.43-1.05s2.33-1.78 3.08-3.23 1.13-3.28 1.13-5.49v-1.28l-6.99 1.13c-2.71 0.45-4.69 1.13-5.94 2.03s-1.88 2.01-1.88 3.31c0 0.95 0.29 1.78 0.87 2.48 0.57 0.7 1.34 1.23 2.29 1.58s1.95 0.53 3.01 0.53z"/>
         <path class="cls-19" d="m599.25 153.81c-2.51 0-4.74-0.41-6.69-1.24s-3.61-2.03-4.96-3.61-2.38-3.46-3.08-5.64-1.13-4.6-1.28-7.26c-0.05-0.95-0.07-1.82-0.07-2.59s0.02-1.62 0.07-2.52c0.1-2.61 0.51-4.99 1.24-7.14 0.72-2.16 1.75-4.02 3.08-5.6s2.98-2.81 4.96-3.68c1.98-0.88 4.22-1.32 6.73-1.32s4.84 0.44 6.69 1.32 3.38 2.02 4.59 3.42v-16.39c0-0.55 0.18-1 0.53-1.35s0.8-0.53 1.35-0.53h7.74c0.5 0 0.93 0.18 1.28 0.53s0.53 0.8 0.53 1.35v49.63c0 0.55-0.18 1-0.53 1.35s-0.78 0.53-1.28 0.53h-7.22c-0.5 0-0.93-0.18-1.28-0.53s-0.53-0.8-0.53-1.35v-2.56c-1.25 1.5-2.83 2.74-4.74 3.72s-4.29 1.47-7.14 1.47zm3.46-9.02c1.85 0 3.35-0.43 4.47-1.28 1.13-0.85 1.95-1.93 2.48-3.23s0.81-2.71 0.87-4.21c0.1-0.95 0.15-1.91 0.15-2.86s-0.05-1.88-0.15-2.78c-0.05-1.4-0.35-2.72-0.9-3.95s-1.39-2.24-2.52-3.05c-1.13-0.8-2.59-1.2-4.4-1.2-1.91 0-3.41 0.41-4.51 1.24s-1.89 1.92-2.37 3.27-0.77 2.83-0.86 4.44c-0.15 1.56-0.15 3.11 0 4.66 0.1 1.6 0.39 3.08 0.86 4.44 0.48 1.35 1.27 2.45 2.37 3.27s2.61 1.24 4.51 1.24z"/>
         <path class="cls-19" d="m648.95 153.81c-5.77 0-10.34-1.6-13.72-4.81s-5.18-7.87-5.38-13.99v-3.23c0.2-3.86 1.08-7.18 2.63-9.96s3.73-4.91 6.54-6.39 6.09-2.22 9.85-2.22c4.21 0 7.73 0.87 10.57 2.59 2.83 1.73 4.96 4.09 6.39 7.07s2.14 6.4 2.14 10.26v1.73c0 0.5-0.19 0.93-0.57 1.28-0.37 0.35-0.81 0.53-1.32 0.53h-24.59v0.6c0.05 1.6 0.36 3.07 0.94 4.4s1.4 2.4 2.48 3.2c1.07 0.8 2.37 1.2 3.87 1.2 1.25 0 2.28-0.18 3.08-0.53s1.47-0.78 1.99-1.28c0.53-0.5 0.92-0.93 1.17-1.28 0.45-0.5 0.81-0.81 1.09-0.94 0.28-0.12 0.72-0.19 1.32-0.19h7.82c0.5 0 0.92 0.14 1.24 0.41 0.33 0.28 0.46 0.67 0.41 1.16-0.05 0.8-0.46 1.79-1.24 2.97s-1.92 2.33-3.42 3.46-3.37 2.07-5.6 2.82-4.8 1.13-7.71 1.13zm-7.44-23.99h14.74v-0.15c0-1.8-0.29-3.37-0.86-4.7-0.58-1.33-1.42-2.37-2.52-3.12s-2.43-1.13-3.99-1.13-2.88 0.38-3.98 1.13-1.95 1.79-2.52 3.12c-0.58 1.33-0.86 2.9-0.86 4.7v0.15z"/>
         <path class="cls-19" d="m293.82 231.7c-4.81 0-8.84-0.7-12.07-2.11-3.23-1.4-5.68-3.23-7.33-5.49-1.66-2.26-2.53-4.66-2.63-7.22 0-0.4 0.15-0.76 0.45-1.09s0.68-0.49 1.13-0.49h8.05c0.65 0 1.15 0.14 1.51 0.41 0.35 0.27 0.68 0.61 0.98 1.01 0.35 0.85 0.91 1.68 1.69 2.48s1.84 1.47 3.2 1.99 3.03 0.79 5.04 0.79c3.26 0 5.7-0.53 7.33-1.58s2.44-2.48 2.44-4.29c0-1.3-0.44-2.36-1.32-3.16s-2.26-1.53-4.14-2.18-4.37-1.35-7.48-2.11c-3.76-0.8-6.96-1.84-9.59-3.12s-4.61-2.93-5.94-4.96-1.99-4.55-1.99-7.56 0.83-5.68 2.48-8.01c1.66-2.33 3.99-4.16 7-5.49 3-1.33 6.59-1.99 10.75-1.99 3.36 0 6.33 0.45 8.91 1.35s4.74 2.08 6.47 3.53c1.73 1.46 3.05 3.01 3.95 4.66 0.9 1.66 1.38 3.26 1.43 4.81 0 0.4-0.15 0.77-0.45 1.09-0.3 0.33-0.68 0.49-1.13 0.49h-8.42c-0.5 0-0.95-0.1-1.35-0.3s-0.73-0.55-0.98-1.05c-0.3-1.3-1.19-2.44-2.67-3.42s-3.4-1.47-5.75-1.47-4.4 0.45-5.83 1.35-2.14 2.28-2.14 4.13c0 1.2 0.36 2.22 1.09 3.05 0.72 0.83 1.95 1.56 3.68 2.18 1.73 0.63 4.02 1.32 6.88 2.07 4.41 0.9 8 1.98 10.75 3.23 2.76 1.25 4.79 2.87 6.09 4.85s1.95 4.47 1.95 7.48c0 3.36-0.94 6.24-2.82 8.65s-4.46 4.25-7.74 5.53c-3.29 1.28-7.11 1.92-11.47 1.92z"/>
         <path class="cls-19" d="m334.58 231.7c-2.66 0-5.04-0.51-7.14-1.54-2.11-1.03-3.79-2.42-5.04-4.17s-1.88-3.71-1.88-5.87c0-3.56 1.44-6.36 4.32-8.42s6.68-3.46 11.39-4.21l9.85-1.43v-1.35c0-1.95-0.45-3.46-1.35-4.51s-2.48-1.58-4.74-1.58c-1.66 0-2.98 0.33-3.99 0.98s-1.78 1.5-2.33 2.56c-0.4 0.65-0.98 0.98-1.73 0.98h-7.15c-0.55 0-0.98-0.16-1.28-0.49s-0.43-0.71-0.37-1.16c0-0.85 0.33-1.85 0.98-3.01 0.65-1.15 1.65-2.29 3.01-3.42 1.35-1.13 3.08-2.07 5.19-2.82s4.69-1.13 7.74-1.13 5.86 0.37 8.12 1.13c2.26 0.75 4.06 1.8 5.42 3.16 1.35 1.35 2.36 2.92 3.01 4.7s0.98 3.7 0.98 5.75v23.24c0 0.55-0.18 1-0.53 1.35s-0.8 0.53-1.36 0.53h-7.37c-0.5 0-0.93-0.18-1.28-0.53s-0.53-0.8-0.53-1.35v-2.78c-0.65 0.95-1.53 1.84-2.63 2.67s-2.42 1.49-3.95 1.99-3.32 0.75-5.37 0.75zm3.01-7.82c1.65 0 3.13-0.35 4.43-1.05s2.33-1.78 3.08-3.23 1.13-3.28 1.13-5.49v-1.28l-6.99 1.13c-2.71 0.45-4.69 1.13-5.94 2.03s-1.88 2.01-1.88 3.31c0 0.95 0.29 1.78 0.87 2.48 0.57 0.7 1.34 1.23 2.29 1.58s1.95 0.53 3.01 0.53z"/>
         <path class="cls-19" d="M368.49,230.95c-.5,0-.93-.18-1.28-.53-.35-.35-.53-.8-.53-1.35v-35.34c0-.55.18-1,.53-1.35.35-.35.77-.53,1.28-.53h7.37c.55,0,1.01.18,1.36.53.35.35.53.8.53,1.35v2.93c1.3-1.6,2.98-2.93,5.04-3.99,2.06-1.05,4.56-1.58,7.52-1.58s5.55.66,7.78,1.99c2.23,1.33,3.99,3.26,5.26,5.79,1.28,2.53,1.92,5.6,1.92,9.21v20.98c0,.55-.19,1-.56,1.35-.38.35-.82.53-1.32.53h-7.97c-.55,0-1.01-.18-1.36-.53-.35-.35-.53-.8-.53-1.35v-20.53c0-2.66-.64-4.73-1.92-6.2-1.28-1.48-3.14-2.22-5.6-2.22s-4.23.74-5.64,2.22c-1.4,1.48-2.11,3.55-2.11,6.2v20.53c0,.55-.18,1-.53,1.35-.35.35-.78.53-1.28.53h-7.97Z"/>
         <path class="cls-19" d="M433.61,230.95c-.5,0-.94-.18-1.32-.53-.37-.35-.56-.8-.56-1.35v-48.88c0-.55.19-1,.56-1.35s.81-.53,1.32-.53h7c.75,0,1.32.2,1.69.6.38.4.64.7.79.9l13.84,25.49,13.99-25.49c.1-.2.34-.5.71-.9.38-.4.94-.6,1.69-.6h6.99c.55,0,1,.18,1.36.53.35.35.53.8.53,1.35v48.88c0,.55-.18,1-.53,1.35-.35.35-.8.53-1.36.53h-7.67c-.5,0-.93-.18-1.28-.53-.35-.35-.53-.8-.53-1.35v-30.38l-9.55,17.9c-.25.45-.58.85-.98,1.2-.4.35-.93.53-1.58.53h-3.53c-.65,0-1.18-.18-1.58-.53-.4-.35-.73-.75-.98-1.2l-9.55-17.9v30.38c0,.55-.18,1-.53,1.35-.35.35-.78.53-1.28.53h-7.67Z"/>
         <path class="cls-19" d="M494.06,185.83c-.5,0-.93-.18-1.28-.53-.35-.35-.53-.8-.53-1.35v-6.02c0-.55.18-1.01.53-1.39s.78-.56,1.28-.56h7.9c.55,0,1.02.19,1.39.56s.56.84.56,1.39v6.02c0,.55-.19,1-.56,1.35-.37.35-.84.53-1.39.53h-7.9ZM494.29,230.95c-.5,0-.93-.18-1.28-.53-.35-.35-.53-.8-.53-1.35v-35.34c0-.55.18-1,.53-1.35.35-.35.77-.53,1.28-.53h7.52c.55,0,1,.18,1.36.53.35.35.53.8.53,1.35v35.34c0,.55-.18,1-.53,1.35-.35.35-.8.53-1.36.53h-7.52Z"/>
         <path class="cls-19" d="m531.43 247.49c-3.71 0-6.79-0.49-9.25-1.47s-4.4-2.16-5.83-3.53c-1.43-1.38-2.44-2.74-3.05-4.1-0.6-1.35-0.93-2.4-0.98-3.16-0.05-0.55 0.12-1 0.53-1.35 0.4-0.35 0.85-0.53 1.35-0.53h8.05c0.45 0 0.84 0.11 1.17 0.34s0.59 0.61 0.79 1.17c0.25 0.6 0.6 1.24 1.05 1.92s1.14 1.24 2.07 1.69 2.17 0.68 3.72 0.68c1.75 0 3.21-0.25 4.36-0.75s2.02-1.35 2.59-2.56c0.58-1.2 0.87-2.83 0.87-4.89v-5.04c-1.21 1.3-2.72 2.38-4.55 3.23s-4.07 1.28-6.73 1.28-4.9-0.41-6.88-1.24-3.62-2-4.93-3.53c-1.3-1.53-2.3-3.37-3-5.53-0.7-2.15-1.1-4.59-1.21-7.29-0.05-1.35-0.05-2.68 0-3.99 0.1-2.61 0.5-4.99 1.21-7.14 0.7-2.16 1.7-4.02 3-5.6s2.94-2.81 4.93-3.68c1.98-0.88 4.27-1.32 6.88-1.32 2.76 0 5.11 0.53 7.07 1.58 1.95 1.05 3.56 2.36 4.81 3.91v-2.86c0-0.5 0.18-0.94 0.53-1.32 0.35-0.37 0.77-0.56 1.28-0.56h7.37c0.5 0 0.94 0.19 1.32 0.56 0.37 0.38 0.56 0.82 0.56 1.32l0.08 36.17c0 3.76-0.73 6.94-2.18 9.55s-3.6 4.6-6.43 5.98-6.35 2.07-10.57 2.07zm-0.38-25.86c1.8 0 3.27-0.41 4.4-1.24s1.97-1.88 2.52-3.16 0.85-2.62 0.9-4.02c0.05-0.55 0.07-1.34 0.07-2.37s-0.02-1.82-0.07-2.37c-0.05-1.4-0.35-2.74-0.9-4.02s-1.39-2.32-2.52-3.12-2.59-1.2-4.4-1.2c-1.91 0-3.41 0.41-4.51 1.24s-1.91 1.92-2.41 3.27-0.8 2.83-0.9 4.44c-0.05 1.2-0.05 2.38 0 3.53 0.1 1.66 0.4 3.16 0.9 4.51s1.3 2.44 2.41 3.27c1.1 0.83 2.61 1.24 4.51 1.24z"/>
         <path class="cls-19" d="m574.44 231.7c-2.91 0-5.48-0.66-7.71-1.99s-3.96-3.26-5.19-5.79-1.84-5.6-1.84-9.21v-20.98c0-0.55 0.18-1 0.53-1.35s0.78-0.53 1.28-0.53h7.97c0.55 0 1 0.18 1.35 0.53s0.53 0.8 0.53 1.35v20.53c0 5.61 2.46 8.42 7.37 8.42 2.36 0 4.22-0.74 5.6-2.22s2.07-3.55 2.07-6.2v-20.53c0-0.55 0.18-1 0.53-1.35s0.8-0.53 1.36-0.53h7.97c0.5 0 0.93 0.18 1.28 0.53s0.53 0.8 0.53 1.35v35.34c0 0.55-0.18 1-0.53 1.35s-0.78 0.53-1.28 0.53h-7.37c-0.55 0-1-0.18-1.35-0.53s-0.53-0.8-0.53-1.35v-2.93c-1.31 1.81-2.98 3.18-5.04 4.14-2.06 0.95-4.56 1.43-7.52 1.43z"/>
         <path class="cls-19" d="m624.97 231.7c-5.77 0-10.34-1.6-13.72-4.81s-5.18-7.87-5.38-13.99v-3.23c0.2-3.86 1.08-7.18 2.63-9.96s3.73-4.91 6.54-6.39 6.09-2.22 9.85-2.22c4.21 0 7.73 0.87 10.57 2.59 2.83 1.73 4.96 4.09 6.39 7.07s2.14 6.4 2.14 10.26v1.73c0 0.5-0.19 0.93-0.57 1.28-0.37 0.35-0.81 0.53-1.32 0.53h-24.59v0.6c0.05 1.6 0.36 3.07 0.94 4.4s1.4 2.4 2.48 3.2c1.07 0.8 2.37 1.2 3.87 1.2 1.25 0 2.28-0.18 3.08-0.53s1.47-0.78 1.99-1.28c0.53-0.5 0.92-0.93 1.17-1.28 0.45-0.5 0.81-0.81 1.09-0.94 0.28-0.12 0.72-0.19 1.32-0.19h7.82c0.5 0 0.92 0.14 1.24 0.41 0.33 0.28 0.46 0.67 0.41 1.16-0.05 0.8-0.46 1.79-1.24 2.97s-1.92 2.33-3.42 3.46-3.37 2.07-5.6 2.82-4.8 1.13-7.71 1.13zm-7.44-23.99h14.74v-0.15c0-1.8-0.29-3.37-0.86-4.7-0.58-1.33-1.42-2.37-2.52-3.12s-2.43-1.13-3.99-1.13-2.88 0.38-3.98 1.13-1.95 1.79-2.52 3.12c-0.58 1.33-0.86 2.9-0.86 4.7v0.15z"/>
         <path class="cls-19" d="M653.39,230.95c-.55,0-1-.18-1.35-.53-.35-.35-.53-.8-.53-1.35v-49.63c0-.55.18-1,.53-1.35.35-.35.8-.53,1.35-.53h7.52c.5,0,.92.18,1.28.53.35.35.53.8.53,1.35v49.63c0,.55-.18,1-.53,1.35-.35.35-.78.53-1.28.53h-7.52Z"/>
         <path class="cls-19" d="M673.77,185.83c-.5,0-.93-.18-1.28-.53s-.53-.8-.53-1.35v-6.02c0-.55.18-1.01.53-1.39.35-.38.78-.56,1.28-.56h7.9c.55,0,1.02.19,1.39.56s.56.84.56,1.39v6.02c0,.55-.19,1-.56,1.35-.37.35-.84.53-1.39.53h-7.9ZM674,230.95c-.5,0-.93-.18-1.28-.53-.35-.35-.53-.8-.53-1.35v-35.34c0-.55.18-1,.53-1.35.35-.35.77-.53,1.28-.53h7.52c.55,0,1,.18,1.36.53.35.35.53.8.53,1.35v35.34c0,.55-.18,1-.53,1.35-.35.35-.8.53-1.36.53h-7.52Z"/>
         <path class="cls-19" d="M711.59,230.95c-3.11,0-5.77-.51-7.97-1.54-2.21-1.03-3.87-2.62-5-4.77-1.13-2.16-1.69-4.86-1.69-8.12v-15.79h-5.86c-.55,0-1.01-.18-1.36-.53-.35-.35-.53-.8-.53-1.35v-5.11c0-.55.18-1,.53-1.35.35-.35.8-.53,1.36-.53h5.86v-12.41c0-.55.19-1,.57-1.35.37-.35.81-.53,1.32-.53h7.37c.55,0,1,.18,1.35.53.35.35.53.8.53,1.35v12.41h9.4c.5,0,.92.18,1.28.53.35.35.53.8.53,1.35v5.11c0,.55-.18,1-.53,1.35-.35.35-.78.53-1.28.53h-9.4v14.89c0,1.91.34,3.4,1.02,4.47.68,1.08,1.86,1.62,3.57,1.62h5.49c.5,0,.93.18,1.28.53s.53.78.53,1.28v5.56c0,.55-.18,1-.53,1.35-.35.35-.78.53-1.28.53h-6.54Z"/>
         <path class="cls-19" d="m744.38 231.7c-4.16 0-7.65-0.69-10.45-2.07-2.81-1.38-4.95-3.35-6.43-5.9-1.48-2.56-2.3-5.54-2.44-8.95-0.05-1-0.08-2.14-0.08-3.42s0.02-2.39 0.08-3.35c0.15-3.46 1-6.45 2.55-8.99 1.56-2.53 3.73-4.49 6.54-5.86 2.81-1.38 6.22-2.07 10.23-2.07s7.34 0.69 10.15 2.07 4.99 3.33 6.54 5.86c1.56 2.53 2.41 5.53 2.56 8.99 0.1 0.95 0.15 2.07 0.15 3.35s-0.05 2.42-0.15 3.42c-0.15 3.41-0.97 6.39-2.44 8.95-1.48 2.56-3.62 4.53-6.43 5.9-2.81 1.38-6.27 2.07-10.37 2.07zm0-8.27c2.46 0 4.31-0.77 5.56-2.29 1.25-1.53 1.93-3.77 2.03-6.73 0.05-0.75 0.07-1.75 0.07-3.01s-0.02-2.26-0.07-3.01c-0.1-2.91-0.78-5.14-2.03-6.69s-3.11-2.33-5.56-2.33-4.32 0.78-5.6 2.33-1.97 3.78-2.07 6.69c-0.05 0.75-0.08 1.75-0.08 3.01s0.03 2.26 0.08 3.01c0.1 2.96 0.79 5.2 2.07 6.73s3.14 2.29 5.6 2.29z"/>
         <path class="cls-19" d="M228.43,54.03v218.1c0,5.82-1.92,11.19-5.16,15.51-4.72,6.3-12.24,10.38-20.72,10.38h-108.69c-8.48,0-16-4.08-20.72-10.38-3.24-4.32-5.16-9.69-5.16-15.51V54.03h160.45Z"/>
         <g class="cls-34" clip-path="url(#clippath)">
          <path class="cls-16" d="M228.44,172.78v115.2c0,.48-.15.92-.4,1.29-.41.59-1.09.98-1.86.98H70.25c-.77,0-1.46-.39-1.86-.98-.25-.37-.4-.81-.4-1.29v-115.2c0-.44.12-.86.35-1.22.58-.91,1.18-1.84,1.79-2.78.27-.41.53-.82.8-1.22,2.17,2.19,5.18,3.54,8.51,3.54,3.54,0,6.74-1.55,8.92-4,2.19,2.45,5.38,4,8.93,4s6.74-1.55,8.93-4c2.19,2.45,5.38,4,8.93,4s6.74-1.55,8.92-4c2.19,2.45,5.38,4,8.93,4,2.75,0,5.29-.93,7.31-2.49.25.36.48.71.72,1.07.03.04.06.08.08.12.95,1.38,2.2,2.37,3.59,2.99.97.43,2,.67,3.04.72.04,0,.07,0,.11,0,.24.01.48.01.72,0,.04,0,.07,0,.11,0,1.04-.06,2.07-.3,3.04-.72,1.39-.62,2.64-1.61,3.59-2.99.03-.04.06-.08.08-.12.24-.36.48-.71.72-1.07,2.02,1.56,4.56,2.49,7.31,2.49,3.55,0,6.74-1.55,8.92-4,2.19,2.45,5.39,4,8.93,4s6.74-1.55,8.93-4c2.19,2.45,5.38,4,8.93,4s6.74-1.55,8.93-4c2.19,2.45,5.37,4,8.93,4,3.32,0,6.32-1.36,8.49-3.54.27.41.54.82.8,1.23.62.94,1.22,1.87,1.8,2.78.23.36.35.78.35,1.22Z"/>
          <polygon class="cls-2" points="228.49 300.26 149.22 185.19 148.98 185.19 210.6 300.26 218.07 314.22 238.1 314.22"/>
          <circle class="cls-29" cx="148.2" cy="147.56" r="12.74"/>
          <path class="cls-9" d="M148.2,131.64c-.74,0-1.34-.6-1.34-1.34v-20.7c0-.74.6-1.34,1.34-1.34s1.34.6,1.34,1.34v20.7c0,.74-.6,1.34-1.34,1.34Z"/>
          <path class="cls-20" d="M140.31,168.61c-2.02,1.56-4.56,2.49-7.31,2.49-3.55,0-6.74-1.55-8.93-4-2.19,2.45-5.37,4-8.92,4s-6.74-1.55-8.93-4c-2.19,2.45-5.38,4-8.93,4s-6.74-1.55-8.93-4c-2.19,2.45-5.38,4-8.92,4-3.33,0-6.34-1.36-8.51-3.54.27-.41.55-.82.82-1.24,8.32-12.46,18.99-25.58,33.54-25.58s25.58,13.85,34.21,26.67c.27.4.54.8.81,1.2Z"/>
          <path class="cls-20" d="M225.48,167.55c-2.17,2.19-5.18,3.54-8.49,3.54-3.56,0-6.74-1.55-8.93-4-2.19,2.45-5.38,4-8.93,4s-6.74-1.55-8.93-4c-2.19,2.45-5.38,4-8.93,4s-6.74-1.55-8.93-4c-2.19,2.45-5.37,4-8.92,4-2.75,0-5.29-.93-7.31-2.49.27-.4.53-.8.81-1.2,8.66-12.81,19.36-26.67,34.21-26.67s25.2,13.12,33.54,25.58c.28.41.56.82.82,1.23Z"/>
          <path class="cls-14" d="M141.11,169.8c-2.29,1.74-5.12,2.74-8.11,2.74-3.3,0-6.49-1.22-8.93-3.4-2.43,2.18-5.62,3.4-8.92,3.4s-6.49-1.22-8.93-3.4c-2.44,2.18-5.62,3.4-8.93,3.4s-6.48-1.22-8.93-3.4c-2.44,2.18-5.62,3.4-8.92,3.4-3.54,0-6.86-1.39-9.31-3.76.27-.41.53-.82.8-1.22.27-.41.55-.82.82-1.24,1.95,2.1,4.73,3.34,7.69,3.34s5.86-1.28,7.85-3.52l1.08-1.21,1.08,1.2c1.99,2.24,4.86,3.52,7.85,3.52s5.86-1.28,7.85-3.52l1.08-1.21,1.08,1.2c1.99,2.24,4.85,3.52,7.85,3.52s5.86-1.28,7.85-3.52l1.07-1.21,1.08,1.21c1.99,2.24,4.86,3.52,7.85,3.52,2.4,0,4.68-.82,6.5-2.25.27.4.54.8.81,1.2.25.36.48.71.72,1.07.03.04.06.08.08.12Z"/>
          <path class="cls-14" d="M226.28,168.79c-2.45,2.36-5.77,3.75-9.3,3.75-3.31,0-6.49-1.22-8.93-3.4-2.44,2.18-5.62,3.4-8.93,3.4s-6.49-1.22-8.93-3.4c-2.44,2.18-5.62,3.4-8.93,3.4s-6.48-1.22-8.93-3.4c-2.43,2.18-5.61,3.4-8.92,3.4-2.99,0-5.82-.99-8.11-2.74.03-.04.06-.08.08-.12.24-.36.48-.71.72-1.07.27-.4.53-.8.81-1.2,1.82,1.43,4.09,2.25,6.5,2.25,3,0,5.86-1.28,7.85-3.52l1.08-1.21,1.08,1.2c2,2.24,4.86,3.52,7.85,3.52s5.86-1.28,7.85-3.52l1.08-1.21,1.08,1.2c1.99,2.24,4.86,3.52,7.85,3.52s5.86-1.28,7.85-3.52l1.08-1.21,1.08,1.21c1.99,2.24,4.85,3.52,7.85,3.52s5.72-1.24,7.67-3.33c.28.41.56.82.82,1.23.27.41.54.82.8,1.23Z"/>
          <polygon class="cls-27" points="213.97 306.46 148.21 183.72 82.45 306.46"/>
          <path class="cls-30" d="M132.82,136.98c-.22,0-.44-.05-.64-.16l-19.88-10.87c-.65-.35-.89-1.17-.53-1.82.35-.65,1.17-.89,1.82-.53l19.88,10.87c.65.35.89,1.17.53,1.82-.24.44-.7.7-1.18.7Z"/>
          <path class="cls-13" d="M139.48,133.26c-.22,0-.44-.05-.64-.16l-13.07-7.14c-.65-.35-.89-1.17-.53-1.82.35-.65,1.17-.89,1.82-.53l13.07,7.14c.65.35.89,1.17.53,1.82-.24.44-.7.7-1.18.7Z"/>
          <path class="cls-10" d="M163.57,136.98c-.47,0-.93-.25-1.18-.7-.35-.65-.12-1.46.53-1.82l19.88-10.87c.65-.35,1.46-.12,1.82.53.35.65.12,1.46-.53,1.82l-19.88,10.87c-.2.11-.42.16-.64.16Z"/>
          <path class="cls-11" d="M156.9,133.26c-.47,0-.93-.25-1.18-.7-.35-.65-.12-1.46.53-1.82l13.07-7.14c.65-.35,1.46-.12,1.82.53.35.65.12,1.46-.53,1.82l-13.07,7.14c-.2.11-.42.16-.64.16Z"/>
          <path class="cls-28" d="M216.7,201.32v-12.79l16.6,1.96,5.96-12.69-29.31.64v9.3l-9.14-1.08v-8.02l-19.33.42v5.32l-7.38-.87v-4.29l-11.45.24v2.7l-3.69-.43v-2.19l-4.49.1v1.57l-1.28-.15v1.67l1.28.38v1.55l4.49,2.03v-2.27l3.69,1.09v2.85l11.45,5.16v-4.67l7.38,2.16v5.84l19.33,8.72v-8.9l9.14,2.67v10.35l27.33,12.35-5.17-16.21-15.41-4.51ZM157.67,184.02l-2.1-.61v-2.09l2.1.24v2.46ZM170.69,187.84l-5.14-1.5v-3.84l5.14.61v4.73ZM194.84,194.92l-8.76-2.56v-7.43l8.76,1.03v8.97Z"/>
          <path class="cls-12" d="M64.3,205.83l-5.17,16.21,27.33-12.35v-10.35s9.14-2.67,9.14-2.67v8.9s19.33-8.72,19.33-8.72v-5.84s7.38-2.16,7.38-2.16v4.67s11.45-5.16,11.45-5.16v-2.85s3.69-1.09,3.69-1.09v2.27s4.49-2.03,4.49-2.03v-1.55s1.28-.38,1.28-.38v-1.67s-1.28.15-1.28.15v-1.57s-4.49-.1-4.49-.1v2.19s-3.69.43-3.69.43v-2.7s-11.45-.24-11.45-.24v4.29s-7.38.87-7.38.87v-5.32s-19.33-.42-19.33-.42v8.02s-9.14,1.08-9.14,1.08v-9.3s-29.31-.64-29.31-.64l5.96,12.69,16.6-1.96v12.79s-15.41,4.51-15.41,4.51ZM138.74,181.56l2.1-.24v2.09s-2.1.61-2.1.61v-2.46ZM125.72,183.1l5.14-.61v3.84s-5.14,1.5-5.14,1.5v-4.73ZM101.57,185.95l8.76-1.03v7.43s-8.76,2.56-8.76,2.56v-8.97Z"/>
          <polygon class="cls-2" points="144.62 188.93 67.93 300.26 58.31 314.22 78.33 314.22 85.8 300.26 145.42 188.93"/>
          <polygon class="cls-32" points="132.09 201.29 124.24 201.29 128.17 197.01"/>
          <polygon class="cls-23" points="136.67 196.31 132.09 201.29 128.17 197.01 133.86 193.25"/>
          <polygon class="cls-18" points="136.67 196.31 136.67 200.48 132.09 207.12 132.09 201.29"/>
          <rect class="cls-31" x="124.24" y="201.29" width="7.85" height="5.83"/>
          <polygon class="cls-23" points="135.26 202.53 133.81 204.63 133.81 200.7 135.26 199"/>
          <polygon class="cls-32" points="120.84 213.54 107.52 213.54 114.18 206.27"/>
          <polygon class="cls-23" points="128.61 205.08 120.84 213.54 114.18 206.27 123.85 199.88"/>
          <polygon class="cls-4" points="128.61 205.08 128.61 212.16 120.84 223.43 120.84 213.54"/>
          <rect class="cls-17" x="107.52" y="213.54" width="13.32" height="9.9"/>
          <polygon class="cls-23" points="126.21 215.64 123.76 219.2 123.76 212.53 126.21 209.64"/>
          <polygon class="cls-32" points="102.69 233.31 80.5 233.31 91.59 221.22"/>
          <polygon class="cls-23" points="115.62 219.23 102.69 233.31 91.59 221.22 107.68 210.57"/>
          <polygon class="cls-22" points="115.62 219.23 115.62 231.02 102.69 249.79 102.69 233.31"/>
          <rect class="cls-6" x="80.5" y="233.31" width="22.19" height="16.48"/>
          <polygon class="cls-23" points="111.64 236.81 107.55 242.74 107.55 231.64 111.64 226.82"/>
          <polygon class="cls-18" points="95.73 240.92 95.73 259.91 74.89 290.12 74.89 263.6"/>
          <polygon class="cls-23" points="89.31 269.22 82.72 278.77 82.72 260.9 89.31 253.15"/>
          <polygon class="cls-23" points="95.73 240.92 74.89 263.6 57.03 244.12 82.95 226.98"/>
          <polygon class="cls-32" points="74.89 263.6 39.18 263.6 57.03 244.12"/>
          <rect class="cls-31" x="39.18" y="263.6" width="35.72" height="26.52"/>
          <polyline class="cls-27" points="135.26 202.53 138.17 202.53 137.02 204.63 133.81 204.63"/>
          <polyline class="cls-27" points="126.21 215.64 131.12 215.64 129.22 219.2 123.76 219.2"/>
          <polyline class="cls-27" points="111.64 236.81 119.79 236.81 116.61 242.74 107.55 242.74"/>
          <polyline class="cls-27" points="89.31 269.22 102.43 269.22 97.32 278.77 82.72 278.77"/>
          <polygon class="cls-32" points="164.33 201.29 172.18 201.29 168.25 197.01"/>
          <polygon class="cls-23" points="159.74 196.31 164.33 201.29 168.25 197.01 162.55 193.25"/>
          <polygon class="cls-4" points="159.74 196.31 159.74 200.48 164.33 207.12 164.33 201.29"/>
          <rect class="cls-17" x="164.33" y="201.29" width="7.85" height="5.83"/>
          <polygon class="cls-23" points="161.16 202.53 162.61 204.63 162.61 200.7 161.16 199"/>
          <polygon class="cls-32" points="175.57 213.54 188.9 213.54 182.24 206.27"/>
          <polygon class="cls-23" points="167.8 205.08 175.57 213.54 182.24 206.27 172.57 199.88"/>
          <polygon class="cls-18" points="167.8 205.08 167.8 212.16 175.57 223.43 175.57 213.54"/>
          <rect class="cls-31" x="175.57" y="213.54" width="13.32" height="9.9"/>
          <polygon class="cls-23" points="170.2 215.64 172.66 219.2 172.66 212.53 170.2 209.64"/>
          <polygon class="cls-32" points="193.73 233.31 215.91 233.31 204.83 221.22"/>
          <polygon class="cls-23" points="180.79 219.23 193.73 233.31 204.83 221.22 188.73 210.57"/>
          <polygon class="cls-4" points="180.79 219.23 180.79 231.02 193.73 249.79 193.73 233.31"/>
          <rect class="cls-17" x="193.73" y="233.31" width="22.19" height="16.48"/>
          <polygon class="cls-23" points="184.78 236.81 188.87 242.74 188.87 231.64 184.78 226.82"/>
          <polygon class="cls-26" points="200.69 240.92 200.69 259.91 221.52 290.12 221.52 263.6"/>
          <polygon class="cls-23" points="207.11 269.22 213.69 278.77 213.69 260.9 207.11 253.15"/>
          <polygon class="cls-23" points="200.69 240.92 221.52 263.6 239.38 244.12 213.47 226.98"/>
          <polygon class="cls-32" points="221.52 263.6 257.24 263.6 239.38 244.12"/>
          <rect class="cls-21" x="221.52" y="263.6" width="35.72" height="26.52"/>
          <polyline class="cls-27" points="161.16 202.53 158.24 202.53 159.39 204.63 162.61 204.63"/>
          <polyline class="cls-27" points="170.2 215.64 165.29 215.64 167.2 219.2 172.66 219.2"/>
          <polyline class="cls-27" points="184.78 236.81 176.63 236.81 179.8 242.74 188.87 242.74"/>
          <polyline class="cls-27" points="207.11 269.22 193.98 269.22 199.1 278.77 213.69 278.77"/>
          <path class="cls-24" d="M163.24,227.4c0,2.02-.32,4.03-1.11,5.96-2.2,5.38-7.75,8.87-13.52,8.87-8.19,0-14.83-6.64-14.83-14.83,0-3.12,2-11.22,4.53-20.05,3.1,2.93,5.45,7.53,5.45,7.53,0,0,.83-1.61-.18-7.43-1.11-6.36-1-11.78-.34-16.21,1.16-7.77,4.02-12.52,5.03-14.01.22-.32.35-.48.35-.48,0,0,.31,11.79,6.48,24.03,3.09,6.13,5.04,11.37,6.26,15.54.9,3.55,1.9,7.35,1.89,11.07Z"/>
          <path class="cls-33" d="M158.34,244.43l-5.57,41.9c-.07.5-.5.88-1,.88h-7.15c-.51,0-.94-.38-1-.88l-5.57-41.9h20.29Z"/>
          <rect class="cls-26" x="132.17" y="235.65" width="32.04" height="4.39" rx="1.9" ry="1.9"/>
          <rect class="cls-8" x="147.7" y="244.43" width=".97" height="42.78"/>
          <polygon class="cls-8" points="154.13 244.43 151.09 287.21 150.13 287.21 153.16 244.43"/>
          <polygon class="cls-15" points="146.28 287.21 145.32 287.21 142.3 244.43 143.26 244.43"/>
          <rect class="cls-26" x="134.7" y="240.04" width="26.98" height="4.39" rx="1.9" ry="1.9"/>
          <path class="cls-7" d="M162.02,240.47h-27.65c-1.45,0-2.63-1.18-2.63-2.63s1.18-2.63,2.63-2.63h27.65c1.45,0,2.63,1.18,2.63,2.63s-1.18,2.63-2.63,2.63ZM134.36,236.08c-.97,0-1.76.79-1.76,1.76s.79,1.76,1.76,1.76h27.65c.97,0,1.76-.79,1.76-1.76s-.79-1.76-1.76-1.76h-27.65Z"/>
          <path class="cls-7" d="M159.48,244.86h-22.59c-1.45,0-2.63-1.18-2.63-2.63s1.18-2.63,2.63-2.63h22.59c1.45,0,2.63,1.18,2.63,2.63s-1.18,2.63-2.63,2.63ZM136.9,240.47c-.97,0-1.76.79-1.76,1.76s.79,1.76,1.76,1.76h22.59c.97,0,1.76-.79,1.76-1.76s-.79-1.76-1.76-1.76h-22.59Z"/>
          <path class="cls-3" d="M148.89,270.21c-.23,1.7-.5,3-.78,3.37-.65.83-6.19,2.5-7.3,1.87-.61-.35-1.33-1.24-2.08-2.47-.32-.53,0-1.22.62-1.31l9.55-1.45Z"/>
          <path class="cls-3" d="M149.32,266.2c-.12,1.4-.27,2.8-.44,4.01l-9.75,1.48c-.63.1-1.25-.22-1.53-.8-.53-1.09-1.05-2.32-1.53-3.6-.24-.64.24-1.33.93-1.32l12.33.23Z"/>
          <path class="cls-3" d="M149.32,266.2l-12.81-.23c-.56-.01-1.05-.37-1.22-.9-.48-1.5-.88-3.03-1.16-4.48-.13-.7.48-1.3,1.18-1.17l14.29,2.79c-.07,1.2-.16,2.6-.29,3.99Z"/>
          <path class="cls-3" d="M149.61,262.21l-14.83-2.9c-.53-.1-.94-.55-.99-1.09-.17-1.77-.07-3.3.4-4.35,1.12-2.51,15.33,3.44,15.5,4.96.05.43.02,1.73-.07,3.38Z"/>
          <path class="cls-3" d="M160.58,272.02c-1.47,4.09-6.56,4.93-6.56,4.93l.52-5.3c-6.32-5.63-2.11-10.88.55-13.26.29-.27.57-.49.81-.69.54-.41.9-.65.9-.65l-.71-1.24-.97-1.67c-3.01,2.31-5.91,1.18-6.45-.12-.97-2.31,5.93-9.09,8.13-6.76,2.32,2.46,5.22,7.72,5.9,10.38.64,2.5-1.13,11.65-2.12,14.37Z"/>
          <path class="cls-5" d="M153.95,276.52c3.72-.84,6.08-2.84,6.75-6.63.79-3.4,1.48-6.94,1.62-10.42,0-.57,0-1.16-.11-1.64-.45-1.65-1.25-3.24-2.06-4.76-1.06-1.9-2.21-3.78-3.66-5.4-.38-.45-.91-.45-1.56-.28-2.12.6-5.95,4.04-5.87,6.36.21.66.99,1.04,1.68,1.2,2.33.54,4.15-1.18,5.95-2.47.12-.09.28.05.22.19-1.13,2.22-3.86,3.65-6.37,3.16-3.88-.97-2.33-4.05-.4-6.18,1.59-1.73,5.33-5.03,7.38-2.32,2.48,3.04,4.52,6.5,5.68,10.27.41,3.05-.3,6.07-.78,9.03-.55,2.35-.83,4.85-2.1,6.95-1.43,2.12-3.79,3.29-6.24,3.79-.57.09-.72-.76-.14-.85h0Z"/>
          <path class="cls-5" d="M155.6,254.11c.12.2,1.73,3,1.78,3.08-1.39.9-2.66,2.08-3.7,3.38-1.96,2.33-2.68,5.63-.94,8.28.77,1.32,1.95,2.32,2.96,3.57.12.13-.05.36-.21.27-1.5-.69-2.65-1.95-3.55-3.35-3.16-4.77.44-10.04,4.63-12.66,0,0-.14.58-.14.58l-1.57-2.73c-.28-.49.46-.92.75-.43h0Z"/>
          <path class="cls-5" d="M141.6,276.01c-.43,0-.78-.06-1.01-.19-.66-.38-1.41-1.26-2.24-2.63-.23-.37-.25-.83-.06-1.23.19-.4.55-.67.99-.74l10.12-1.53-.08.57c-.36,2.66-.67,3.31-.87,3.57-.61.78-4.71,2.17-6.85,2.17ZM148.38,270.72l-8.97,1.36c-.15.02-.27.11-.33.25-.06.14-.06.29.02.41.73,1.2,1.41,2.03,1.92,2.32.7.4,6.03-.83,6.75-1.76.05-.06.3-.48.61-2.59Z"/>
          <path class="cls-5" d="M138.91,272.14c-.72,0-1.38-.4-1.7-1.06-.54-1.11-1.06-2.34-1.55-3.63-.16-.44-.1-.93.17-1.31.27-.38.68-.6,1.17-.59l12.79.23-.04.46c-.13,1.55-.28,2.9-.44,4.03l-.04.32-10.07,1.53c-.1.02-.2.02-.29.02ZM136.98,266.41c-.18,0-.34.08-.44.23-.11.15-.13.33-.06.51.48,1.27.99,2.47,1.52,3.56.2.4.63.63,1.08.56l9.43-1.43c.12-.93.24-2.01.35-3.21l-11.86-.22h-.01Z"/>
          <path class="cls-5" d="M149.72,266.64l-13.21-.24c-.75-.01-1.4-.49-1.62-1.2-.51-1.58-.9-3.11-1.18-4.53-.09-.47.06-.94.39-1.28.34-.34.82-.49,1.29-.39l14.66,2.87-.02.38c-.08,1.37-.18,2.76-.29,4l-.04.4ZM135.12,259.83c-.15,0-.29.06-.4.17-.13.13-.19.32-.16.5.27,1.39.65,2.88,1.15,4.43.11.35.44.59.82.6l12.4.23c.09-1.01.16-2.1.23-3.2l-13.92-2.72s-.08-.01-.11-.01Z"/>
          <path class="cls-5" d="M150.01,262.73l-15.32-2.99c-.72-.14-1.27-.75-1.34-1.47-.19-1.96-.04-3.5.44-4.57.36-.8,1.46-1.04,3.38-.74,3.93.62,12.76,4.17,12.94,5.82.07.64-.03,2.63-.07,3.45l-.03.5ZM135.77,253.7c-.65,0-1.08.13-1.18.35-.41.92-.54,2.35-.37,4.13.03.35.3.64.65.71l14.34,2.8c.07-1.41.09-2.47.05-2.82-.39-.97-9.37-5.08-13.36-5.18-.04,0-.09,0-.13,0Z"/>
         </g>
         <polygon class="cls-25" points="76.38 94.64 87.3 101.85 87.3 125.72 79.11 129.53 79.11 116.74 76.38 117.58 76.38 133.82 90.03 127.46 90.03 100.38 79.11 93.17 79.11 68.19 87.3 72.05 87.3 82.38 90.03 83.36 90.03 70.31 76.38 63.89"/>
         <path class="cls-25" d="m97.86 74.02-6.08 52.61 2.91-1.37 1.67-14.47 6.97-1.44 1.74 11 2.57-1.22-6.93-43.76-2.85-1.35zm-1.17 33.91 2.71-23.43 3.51 22.15-6.21 1.29z"/>
         <polygon class="cls-25" points="118.95 101.3 113.54 81.44 110.61 80.05 110.61 117.73 113.34 116.43 113.34 91.1 119.45 113.55 121.67 112.5 121.67 85.28 118.95 83.99"/>
         <polygon class="cls-25" points="137.22 100.16 130.46 89.44 127.98 88.26 127.98 109.52 130.71 108.23 130.71 94.95 137.25 105.31 140.68 99.75 140.68 103.51 143.41 102.22 143.41 95.06 140.82 94.33"/>
         <polygon class="cls-25" points="155.51 100.03 157.31 100.03 157.31 102.51 152.44 100.21 152.44 97.62 158.55 94.72 159.62 94.72 159.62 91.19 149.71 95.9 149.71 101.94 159.67 106.65 159.67 97.3 155.51 97.3"/>
         <polygon class="cls-25" points="167.21 107.17 163.76 105.54 163.76 89.25 161.03 90.52 161.03 107.27 169.94 111.47 169.94 86.31 167.21 87.6"/>
         <polygon class="cls-25" points="171.93 112.38 178.07 115.29 178.07 112.27 174.66 110.66 174.66 99.89 177.69 99.89 177.69 97.16 174.66 97.16 174.66 87.09 178.98 85.04 178.98 82.02 171.93 85.36"/>
         <polygon class="cls-25" points="183.4 79.95 180.67 81.24 180.67 116.49 187.97 119.94 187.97 116.92 183.4 114.77"/>
         <polygon class="cls-25" points="190.12 121.01 192.85 122.3 192.85 75.48 190.12 76.79"/>
         <polygon class="cls-25" points="194.41 77.76 199.06 75.56 199.06 125.23 201.79 126.52 201.79 74.27 206.42 72.08 206.42 69.06 194.41 74.74"/>
         <path class="cls-25" d="m208.54 68.08v61.62l10.69 5.12v-71.81l-10.69 5.06zm7.96 62.4-5.23-2.51v-58.17l5.23-2.48v63.16z"/>
         <path class="cls-25" d="m121.98 77.9v-13.66h-29.93l29.93 13.66zm-2.73-4.24-14.65-6.68h14.65v6.68z"/>
         <polygon class="cls-25" points="124.97 79.26 127.7 80.51 127.7 64.27 124.97 64.27"/>
         <polygon class="cls-25" points="140.79 74.45 133.41 71.36 133.41 66.97 138.06 66.97 138.06 70.01 140.79 70.01 140.79 64.24 130.68 64.24 130.68 73.18 138.06 76.26 138.06 82.24 133.41 80.13 133.41 77.06 130.68 77.06 130.68 81.89 140.79 86.47"/>
         <polygon class="cls-25" points="150.72 66.97 150.72 64.24 142.95 64.24 142.95 66.97 145.47 66.97 145.47 88.78 148.2 88.78 148.2 66.97"/>
         <path class="cls-25" d="m155.6 77.05h1.51s3.9 5.56 3.9 5.56l2.53-1.15-3.11-4.43h3.42v-12.79h-10.99v22.06l2.73-1.24v-8.02zm0-10.08h5.53v7.33l-5.53 0.02v-7.35z"/>
         <polygon class="cls-25" points="168.85 64.27 166.12 64.27 166.12 80.3 168.85 79.06"/>
         <polygon class="cls-25" points="172.26 77.52 174.99 76.28 174.99 66.97 176.3 66.97 176.3 64.24 170.95 64.24 170.95 66.97 172.26 66.97"/>
         <path class="cls-25" d="m178.41 64.24v10.48l23.11-10.48h-23.11zm2.73 2.73h7.76l-7.76 3.52v-3.52z"/>
         <rect class="cls-25" x="145.2" y="96.22" width="2.73" height="4.89"/>
         <path class="cls-25" d="M202.55,300.13h-108.69c-8.9,0-17.07-4.09-22.41-11.22-3.65-4.87-5.58-10.67-5.58-16.77V51.92h164.67v220.21c0,6.1-1.93,11.9-5.58,16.77-5.34,7.13-13.51,11.22-22.41,11.22ZM70.09,56.14v215.99c0,5.18,1.64,10.11,4.74,14.24,4.54,6.06,11.48,9.53,19.03,9.53h108.69c7.56,0,14.5-3.48,19.04-9.53,3.1-4.14,4.74-9.06,4.74-14.24V56.14H70.09Z"/>
        </svg>
        
    </div>

    <div class="control-buttons">
        <button class="control-btn" id="prevBtn" onclick="previousActivity()" title="Actividad anterior">‚èÆ</button>
        <button class="control-btn" id="pauseBtn" onclick="togglePause()" title="Pausar/Reanudar">‚èØ</button>
        <button class="control-btn" id="nextBtn" onclick="nextActivity()" title="Siguiente actividad">‚è≠</button>
        <button class="control-btn" id="resetBtn" onclick="resetToSchedule()" title="Volver a agenda programada">üóì</button>
    </div>

    <button class="info-btn" onclick="toggleInfo()">?</button>
    <button class="toggle-btn" onclick="toggleConfig()">‚öôÔ∏è</button>

    <div id="infoPanel">
        <button class="close-info-btn" onclick="toggleInfo()">‚úï Cerrar</button>
        <div class="info-content">
            <h1>Contador de tiempo para talleres de la Alcald√≠a de San Miguelito</h1>
            
            <h2>¬øQu√© es esta aplicaci√≥n?</h2>
            <p>Esta aplicaci√≥n est√° dise√±ada para ayudar a mantener el tiempo durante talleres y actividades. Muestra en pantalla completa la actividad actual y alertas de tiempo restante, permitiendo que todos los participantes se mantengan al d√≠a con el cronograma.</p>

            <h2>Caracter√≠sticas principales</h2>
            <ul>
                <li><strong>Display a pantalla completa:</strong> Muestra la actividad actual en letras grandes y visibles</li>
                <li><strong>Alertas de tiempo:</strong> Avisos visuales y sonoros cuando quedan 5 minutos, 3 minutos, 1 minuto y 10 segundos</li>
                <li><strong>Sonidos de alerta:</strong> Beeps cada segundo en los √∫ltimos 10 segundos y alarma al finalizar cada actividad</li>
                <li><strong>Detecci√≥n de colisiones:</strong> Previene que se programen actividades que se solapen en el tiempo</li>
                <li><strong>Persistencia de datos:</strong> Las actividades se guardan autom√°ticamente y se mantienen al recargar la p√°gina</li>
                <li><strong>Importar/Exportar CSV:</strong> Permite guardar y compartir los cronogramas de actividades</li>
            </ul>

            <h2>Uso b√°sico</h2>
            <ol>
                <li><strong>Agregar actividades:</strong> Haz clic en el bot√≥n ‚öôÔ∏è (Configuraci√≥n) en la esquina inferior derecha</li>
                <li><strong>Completar el formulario:</strong>
                    <ul>
                        <li>Selecciona la hora de inicio usando los men√∫s desplegables</li>
                        <li>Ingresa la duraci√≥n en minutos</li>
                        <li>Escribe el nombre de la actividad</li>
                    </ul>
                </li>
                <li><strong>Guardar:</strong> Haz clic en "Agregar Actividad"</li>
                <li><strong>Cerrar configuraci√≥n:</strong> Haz clic nuevamente en ‚öôÔ∏è o fuera del panel para ver el display</li>
            </ol>

            <h2>Gesti√≥n de actividades</h2>
            <ul>
                <li><strong>Editar:</strong> Haz clic en el bot√≥n "Editar" junto a cualquier actividad para modificarla</li>
                <li><strong>Eliminar:</strong> Usa el bot√≥n "Eliminar" para quitar una actividad espec√≠fica</li>
                <li><strong>Eliminar todas:</strong> El bot√≥n "üóëÔ∏è Eliminar Todas las Actividades" borra todo el cronograma</li>
            </ul>

            <h2>Alertas de tiempo</h2>
            <p>La aplicaci√≥n muestra diferentes alertas seg√∫n el tiempo restante:</p>
            <ul>
                <li><strong>5 minutos restantes:</strong> Muestra "5 minutos" en color naranja</li>
                <li><strong>3 minutos restantes:</strong> Muestra "3 minutos" en color naranja oscuro</li>
                <li><strong>1 minuto restante:</strong> Muestra un countdown en segundos en color rojo con animaci√≥n</li>
                <li><strong>√öltimos 10 segundos:</strong> Beep cada segundo y countdown visible</li>
                <li><strong>Final de actividad:</strong> Suena una alarma y muestra autom√°ticamente la siguiente actividad</li>
            </ul>

            <h2>Configuraci√≥n de fuente</h2>
            <p>Puedes personalizar la fuente del texto principal:</p>
            <ul>
                <li>Selecciona una fuente de la lista desplegable</li>
                <li>O elige "Personalizada" y escribe el nombre exacto de una fuente instalada en tu sistema</li>
                <li>La vista previa muestra c√≥mo se ver√° la fuente seleccionada</li>
            </ul>

            <h2>Importar y exportar datos</h2>
            <ul>
                <li><strong>Exportar a CSV:</strong> Descarga un archivo CSV con todas las actividades programadas</li>
                <li><strong>Importar desde CSV:</strong> Carga actividades desde un archivo CSV previamente exportado</li>
                <li>El formato CSV es: <code>Hora,Duraci√≥n (minutos),Actividad</code></li>
            </ul>

            <h2>Detecci√≥n de colisiones</h2>
            <p>La aplicaci√≥n previene que se agreguen actividades que se solapen en el tiempo. Si intentas agregar una actividad que colisiona con otra existente, ver√°s un mensaje de error indicando con qu√© actividad hay conflicto.</p>

            <h2>Consejos</h2>
            <ul>
                <li>Programa todas las actividades al inicio del taller para tener una vista completa del cronograma</li>
                <li>Usa nombres descriptivos para las actividades</li>
                <li>Exporta el CSV como respaldo antes de eventos importantes</li>
                <li>La aplicaci√≥n funciona completamente offline - no requiere conexi√≥n a internet</li>
                <li>Los datos se guardan autom√°ticamente en tu navegador</li>
            </ul>

            <h2>Soporte</h2>
            <p>Esta aplicaci√≥n fue desarrollada por Mir Rodr√≠guez de la Direcci√≥n de Planificaci√≥n Urbana. Para preguntas o problemas, escribe a <a href="mailto:mirrodriguez@sanmiguelito.gob.pa">mirrodriguez@sanmiguelito.gob.pa</a>.</p>
        </div>
    </div>

    <div id="configPanel">
        <div class="config-content">
            <h1>Contador de tiempo para talleres de la Alcald√≠a de San Miguelito</h1>
            
            <h2 id="formTitle">Agregar Actividad</h2>
            <form id="activityForm">
                <input type="hidden" id="editIndex" value="-1">
                <div class="form-group">
                    <label for="time">Hora de inicio:</label>
                    <div class="time-selector">
                        <select id="timeHour" required>
                            <option value="">Hora</option>
                        </select>
                        <span class="time-separator">:</span>
                        <select id="timeMinute" required>
                            <option value="">Min</option>
                        </select>
                        <select id="timeAmPm" required>
                            <option value="">AM/PM</option>
                            <option value="AM">AM</option>
                            <option value="PM">PM</option>
                        </select>
                    </div>
                    <input type="hidden" id="time" required>
                </div>
                <div class="form-group">
                    <label for="duration">Duraci√≥n (minutos):</label>
                    <input type="number" id="duration" min="1" required>
                </div>
                <div class="form-group">
                    <label for="activity">Nombre de la actividad:</label>
                    <input type="text" id="activity" required>
                </div>
                <div class="error-message" id="errorMessage"></div>
                <button type="submit" id="submitButton">Agregar Actividad</button>
                <button type="button" class="cancel" id="cancelButton" onclick="cancelEdit()" style="display: none;">Cancelar</button>
            </form>

            <div class="font-config">
                <h2>Configuraci√≥n de Fuente</h2>
                <div class="form-group">
                    <label for="fontFamily">Fuente para el display principal:</label>
                    <select id="fontFamily" onchange="updateFont()">

                        <option value="Rubik ExtraBold">Rubik ExtraBold</option>
                        <option value="Rubik SemiBold">Rubik SemiBold</option>
                        <option value="Rubik Light">Rubik Light</option>
                        <option value="Rubik Medium">Rubik Medium</option>
                        <option value="Arial">Arial</option>
                        <option value="Helvetica">Helvetica</option>
                        <option value="Times New Roman">Times New Roman</option>
                        
                        <option value="custom">Personalizada (escribir abajo)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="customFont">Fuente personalizada (nombre exacto de la fuente instalada):</label>
                    <input type="text" id="customFont" placeholder="Ej: Roboto, Open Sans, Montserrat..." onchange="updateFont()">
                </div>
                <div class="font-preview" id="fontPreview">Vista previa: Actividad de ejemplo</div>
            </div>

            <div class="csv-buttons">
                <h2>Importar/Exportar Datos</h2>
                <button onclick="exportToCSV()">üì• Exportar a CSV</button>
                <button onclick="document.getElementById('csvFileInput').click()">üì§ Importar desde CSV</button>
                <input type="file" id="csvFileInput" accept=".csv" style="display: none;" onchange="importFromCSV(event)">
            </div>

            <div id="activitiesList">
                <h2>Actividades Programadas</h2>
                <div id="activitiesContainer"></div>
                <button class="danger" onclick="clearAllActivities()">üóëÔ∏è Eliminar Todas las Actividades</button>
            </div>
        </div>
    </div>

    <script>
        let activities = [];
        let originalActivities = []; // Copia de los tiempos originales
        let currentActivityIndex = -1;
        let intervalId = null;
        let beepIntervalId = null;
        let lastBeepTime = 0;
        let editingIndex = -1;
        let timeDelta = 0; // Diferencia en minutos desde el inicio original
        let isPaused = false;
        let pauseStartTime = null;

        // Cargar actividades desde localStorage al iniciar
        function loadActivities() {
            const saved = localStorage.getItem('workshopActivities');
            if (saved) {
                activities = JSON.parse(saved);
                activities.sort((a, b) => {
                    const timeA = parseTime(a.time);
                    const timeB = parseTime(b.time);
                    return timeA - timeB;
                });
                // Guardar copia profunda de los tiempos originales
                originalActivities = JSON.parse(JSON.stringify(activities));
                updateActivitiesDisplay();
            }
        }

        // Ajustar tiempos de todas las actividades seg√∫n el delta
        function adjustActivityTimes() {
            if (timeDelta === 0) {
                // Si no hay delta, restaurar tiempos originales
                activities = JSON.parse(JSON.stringify(originalActivities));
                return;
            }

            activities.forEach((act, index) => {
                const originalTime = parseTime(originalActivities[index].time);
                const newTime = originalTime + timeDelta;
                act.time = formatTime(newTime);
            });
        }

        // Guardar actividades en localStorage
        function saveActivities() {
            localStorage.setItem('workshopActivities', JSON.stringify(activities));
            // Actualizar copia original cuando se guardan cambios
            originalActivities = JSON.parse(JSON.stringify(activities));
            // Resetear delta ya que los nuevos tiempos son los originales
            timeDelta = 0;
        }

        // Parsear tiempo HH:MM a minutos desde medianoche
        function parseTime(timeStr) {
            const [hours, minutes] = timeStr.split(':').map(Number);
            return hours * 60 + minutes;
        }

        // Formatear minutos desde medianoche a HH:MM (formato 24h para uso interno)
        function formatTime(minutes) {
            const hours = Math.floor(minutes / 60);
            const mins = minutes % 60;
            return `${String(hours).padStart(2, '0')}:${String(mins).padStart(2, '0')}`;
        }

        // Formatear minutos desde medianoche a formato 12 horas con AM/PM (para mostrar al usuario)
        function formatTime12h(minutes) {
            const hours24 = Math.floor(minutes / 60);
            const mins = minutes % 60;
            
            let hours12, ampm;
            if (hours24 === 0) {
                hours12 = 12;
                ampm = 'AM';
            } else if (hours24 === 12) {
                hours12 = 12;
                ampm = 'PM';
            } else if (hours24 < 12) {
                hours12 = hours24;
                ampm = 'AM';
            } else {
                hours12 = hours24 - 12;
                ampm = 'PM';
            }
            
            return `${hours12}:${String(mins).padStart(2, '0')} ${ampm}`;
        }

        // Verificar si hay colisi√≥n entre actividades
        function hasCollision(newTime, newDuration, excludeIndex = -1) {
            const newStart = parseTime(newTime);
            const newEnd = newStart + newDuration;

            for (let i = 0; i < activities.length; i++) {
                if (i === excludeIndex) continue; // Excluir la actividad que se est√° editando

                const existingStart = parseTime(activities[i].time);
                const existingEnd = existingStart + activities[i].duration;

                // Verificar si hay solapamiento
                // Dos intervalos se solapan si: newStart < existingEnd && newEnd > existingStart
                if (newStart < existingEnd && newEnd > existingStart) {
                    return {
                        hasCollision: true,
                        conflictingActivity: activities[i],
                        conflictIndex: i
                    };
                }
            }

            return { hasCollision: false };
        }

        // Calcular tiempo restante en minutos
        function getTimeRemaining() {
            if (isPaused && pauseStartTime) {
                // Si est√° pausado, usar el tiempo de cuando se paus√≥
                const pauseTime = pauseStartTime.getHours() * 60 + pauseStartTime.getMinutes();
                const pauseSeconds = pauseStartTime.getSeconds();
                return getTimeRemainingAtTime(pauseTime, pauseSeconds);
            }

            const now = new Date();
            const currentMinutes = now.getHours() * 60 + now.getMinutes();
            const currentSeconds = now.getSeconds();
            return getTimeRemainingAtTime(currentMinutes, currentSeconds);
        }

        // Calcular tiempo restante en un momento espec√≠fico
        function getTimeRemainingAtTime(currentMinutes, currentSeconds) {
            if (activities.length === 0) return null;

            // Encontrar la actividad actual
            for (let i = 0; i < activities.length; i++) {
                const activity = activities[i];
                const startTime = parseTime(activity.time);
                const endTime = startTime + activity.duration;

                if (currentMinutes >= startTime && currentMinutes < endTime) {
                    const remaining = endTime - currentMinutes - (currentSeconds / 60);
                    return {
                        activity: activity,
                        index: i,
                        remaining: remaining,
                        totalSeconds: remaining * 60
                    };
                }
            }

            // Si no hay actividad actual, buscar la pr√≥xima
            for (let i = 0; i < activities.length; i++) {
                const activity = activities[i];
                const startTime = parseTime(activity.time);
                if (currentMinutes < startTime) {
                    const remaining = startTime - currentMinutes - (currentSeconds / 60);
                    return {
                        activity: null,
                        nextActivity: activity,
                        index: i,
                        remaining: remaining,
                        totalSeconds: remaining * 60,
                        isNext: true
                    };
                }
            }

            // Si no se encontr√≥ ninguna actividad despu√©s de la hora actual,
            // buscar la primera actividad (del d√≠a siguiente)
            if (activities.length > 0) {
                const firstActivity = activities[0];
                const startTime = parseTime(firstActivity.time);
                // Calcular tiempo hasta la primera actividad del d√≠a siguiente
                // (24 horas = 1440 minutos - tiempo actual + tiempo de inicio)
                const minutesUntilMidnight = 1440 - currentMinutes;
                const remaining = minutesUntilMidnight + startTime - (currentSeconds / 60);
                return {
                    activity: null,
                    nextActivity: firstActivity,
                    index: 0,
                    remaining: remaining,
                    totalSeconds: remaining * 60,
                    isNext: true
                };
            }

            return null;
        }

        // Actualizar display
        function updateDisplay() {
            const info = getTimeRemaining();
            const display = document.getElementById('currentActivity');
            const timeDisplay = document.getElementById('timeRemaining');

            if (!info) {
                display.textContent = 'No hay actividades programadas';
                timeDisplay.textContent = '';
                return;
            }

            if (info.isNext) {
                display.textContent = 'Esperando pr√≥xima actividad...';
                timeDisplay.textContent = `Pr√≥xima: ${info.nextActivity.activity} en ${Math.ceil(info.remaining)} minutos`;
                timeDisplay.className = '';
                return;
            }

            display.textContent = info.activity.activity;
            
            // Mostrar estado de pausa
            if (isPaused) {
                timeDisplay.textContent = '‚è∏Ô∏è PAUSADO';
                timeDisplay.className = 'warning-3';
                return;
            }
            
            const remaining = info.remaining;
            const totalSeconds = info.totalSeconds; // Use raw value, don't floor yet

            // Limpiar clases de advertencia
            timeDisplay.className = '';

            if (remaining <= 0) {
                // Actividad terminada - mostrar siguiente
                playAlarm();
                let nextIndex = info.index + 1;
                
                // Si no hay m√°s actividades despu√©s, buscar la primera (del d√≠a siguiente)
                if (nextIndex >= activities.length) {
                    nextIndex = 0;
                }
                
                if (activities.length > 0) {
                    display.textContent = activities[nextIndex].activity;
                    timeDisplay.textContent = 'Nueva actividad iniciada';
                    setTimeout(() => {
                        updateDisplay();
                    }, 3000);
                } else {
                    display.textContent = 'Todas las actividades han terminado';
                    timeDisplay.textContent = '';
                }
                return;
            }

            // Mostrar advertencias seg√∫n el tiempo restante
            if (totalSeconds <= 10) {
                // √öltimos 10 segundos - beep cada segundo
                const seconds = Math.ceil(totalSeconds);
                timeDisplay.textContent = `${seconds} segundo${seconds !== 1 ? 's' : ''}`;
                timeDisplay.className = 'warning-1';
                
                const now = Date.now();
                if (now - lastBeepTime >= 1000) {
                    playBeep();
                    lastBeepTime = now;
                }
            } else if (remaining <= 1) {
                // √öltimo minuto - countdown
                const seconds = Math.ceil(totalSeconds);
                timeDisplay.textContent = `${seconds} segundo${seconds !== 1 ? 's' : ''}`;
                timeDisplay.className = 'warning-1';
            } else if (remaining <= 3) {
                // 3 minutos
                const minutes = Math.ceil(remaining);
                timeDisplay.textContent = `${minutes} minutos`;
                timeDisplay.className = 'warning-3';
            } else if (remaining <= 5) {
                // 5 minutos
                const minutes = Math.ceil(remaining);
                timeDisplay.textContent = `${minutes} minutos`;
                timeDisplay.className = 'warning-5';
            } else {
                // Tiempo normal
                const minutes = Math.ceil(remaining);
                timeDisplay.textContent = `${minutes} minutos restantes`;
            }
        }

        // Sonido beep
        function playBeep() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.frequency.value = 800;
            oscillator.type = 'sine';

            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        // Sonido de alarma
        function playAlarm() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.frequency.value = 600;
            oscillator.type = 'sine';

            gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 2.0);

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 2.0); // Dura exactamente 2 segundos
        }

        // Poblar dropdowns de tiempo
        function populateTimeSelectors() {
            const hourSelect = document.getElementById('timeHour');
            const minuteSelect = document.getElementById('timeMinute');
            
            // Poblar horas (1-12 para formato 12 horas)
            for (let i = 1; i <= 12; i++) {
                const option = document.createElement('option');
                option.value = String(i);
                option.textContent = String(i);
                hourSelect.appendChild(option);
            }
            
            // Poblar minutos (0-59)
            for (let i = 0; i < 60; i++) {
                const option = document.createElement('option');
                option.value = String(i).padStart(2, '0');
                option.textContent = String(i).padStart(2, '0');
                minuteSelect.appendChild(option);
            }
        }

        // Sincronizar selects con campo hidden (convertir de 12h a 24h)
        function syncTimeField() {
            const hour12 = parseInt(document.getElementById('timeHour').value);
            const minute = document.getElementById('timeMinute').value;
            const ampm = document.getElementById('timeAmPm').value;
            
            if (hour12 && minute && ampm) {
                // Convertir de 12 horas a 24 horas
                let hour24 = hour12;
                if (ampm === 'PM' && hour12 !== 12) {
                    hour24 = hour12 + 12;
                } else if (ampm === 'AM' && hour12 === 12) {
                    hour24 = 0;
                }
                
                document.getElementById('time').value = `${String(hour24).padStart(2, '0')}:${minute}`;
            } else {
                document.getElementById('time').value = '';
            }
        }

        // Establecer tiempo en los selects desde formato HH:MM (convertir de 24h a 12h)
        function setTimeSelectors(timeStr) {
            if (!timeStr) {
                document.getElementById('timeHour').value = '';
                document.getElementById('timeMinute').value = '';
                document.getElementById('timeAmPm').value = '';
                return;
            }
            
            const [hour24, minute] = timeStr.split(':');
            const hour24Num = parseInt(hour24);
            
            // Convertir de 24 horas a 12 horas
            let hour12, ampm;
            if (hour24Num === 0) {
                hour12 = 12;
                ampm = 'AM';
            } else if (hour24Num === 12) {
                hour12 = 12;
                ampm = 'PM';
            } else if (hour24Num < 12) {
                hour12 = hour24Num;
                ampm = 'AM';
            } else {
                hour12 = hour24Num - 12;
                ampm = 'PM';
            }
            
            document.getElementById('timeHour').value = String(hour12);
            document.getElementById('timeMinute').value = minute || '';
            document.getElementById('timeAmPm').value = ampm || '';
            syncTimeField();
        }

        // Formulario de actividades
        document.getElementById('activityForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Sincronizar tiempo antes de enviar
            syncTimeField();
            const time = document.getElementById('time').value;
            const duration = parseInt(document.getElementById('duration').value);
            const activity = document.getElementById('activity').value;
            const editIndex = parseInt(document.getElementById('editIndex').value);

            // Ocultar mensaje de error previo
            const errorMessage = document.getElementById('errorMessage');
            errorMessage.classList.remove('show');

            // Verificar colisiones
            const collision = hasCollision(time, duration, editIndex >= 0 ? editIndex : -1);
            if (collision.hasCollision) {
                const endTime = parseTime(time) + duration;
                const conflictStart = parseTime(collision.conflictingActivity.time);
                const conflictEnd = conflictStart + collision.conflictingActivity.duration;
                errorMessage.textContent = `Error: Esta actividad se solapa con "${collision.conflictingActivity.activity}" (${formatTime12h(conflictStart)} - ${formatTime12h(conflictEnd)}). Por favor, ajusta la hora o duraci√≥n.`;
                errorMessage.classList.add('show');
                return;
            }

            if (editIndex >= 0) {
                // Modo edici√≥n: actualizar actividad existente
                activities[editIndex] = { time, duration, activity };
                editingIndex = -1;
            } else {
                // Modo agregar: crear nueva actividad
                activities.push({ time, duration, activity });
            }

            // Ordenar actividades por hora
            activities.sort((a, b) => {
                const timeA = parseTime(a.time);
                const timeB = parseTime(b.time);
                return timeA - timeB;
            });

            saveActivities();
            updateActivitiesDisplay();
            resetForm();
        });

        // Actualizar lista de actividades
        function updateActivitiesDisplay() {
            const container = document.getElementById('activitiesContainer');
            container.innerHTML = '';

            if (activities.length === 0) {
                container.innerHTML = '<p>No hay actividades programadas</p>';
                return;
            }

            activities.forEach((act, index) => {
                const startTimeMinutes = parseTime(act.time);
                const endTime = startTimeMinutes + act.duration;
                const div = document.createElement('div');
                div.className = 'activity-item';
                div.innerHTML = `
                    <strong>${act.activity}</strong><br>
                    Inicio: ${formatTime12h(startTimeMinutes)} | Duraci√≥n: ${act.duration} minutos | Fin: ${formatTime12h(endTime)}
                    <div style="float: right;">
                        <button class="edit" onclick="editActivity(${index})" style="margin-right: 5px;">Editar</button>
                        <button class="danger" onclick="removeActivity(${index})">Eliminar</button>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // Editar actividad
        function editActivity(index) {
            if (index < 0 || index >= activities.length) return;

            const activity = activities[index];
            setTimeSelectors(activity.time);
            document.getElementById('duration').value = activity.duration;
            document.getElementById('activity').value = activity.activity;
            document.getElementById('editIndex').value = index;
            editingIndex = index;

            // Cambiar t√≠tulo y botones del formulario
            document.getElementById('formTitle').textContent = 'Editar Actividad';
            document.getElementById('submitButton').textContent = 'Guardar Cambios';
            document.getElementById('cancelButton').style.display = 'inline-block';

            // Ocultar mensaje de error
            document.getElementById('errorMessage').classList.remove('show');

            // Scroll al formulario
            document.getElementById('activityForm').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Cancelar edici√≥n
        function cancelEdit() {
            resetForm();
        }

        // Resetear formulario
        function resetForm() {
            document.getElementById('activityForm').reset();
            setTimeSelectors('');
            document.getElementById('editIndex').value = '-1';
            editingIndex = -1;
            document.getElementById('formTitle').textContent = 'Agregar Actividad';
            document.getElementById('submitButton').textContent = 'Agregar Actividad';
            document.getElementById('cancelButton').style.display = 'none';
            document.getElementById('errorMessage').classList.remove('show');
        }

        // Eliminar actividad
        function removeActivity(index) {
            if (confirm('¬øEliminar esta actividad?')) {
                activities.splice(index, 1);
                saveActivities();
                updateActivitiesDisplay();
            }
        }

        // Eliminar todas las actividades
        function clearAllActivities() {
            if (confirm('¬øEliminar TODAS las actividades? Esta acci√≥n no se puede deshacer.')) {
                activities = [];
                saveActivities();
                updateActivitiesDisplay();
            }
        }

        // Toggle panel de configuraci√≥n
        function toggleConfig() {
            const panel = document.getElementById('configPanel');
            panel.classList.toggle('active');
        }

        // Toggle panel de informaci√≥n
        function toggleInfo() {
            const panel = document.getElementById('infoPanel');
            panel.classList.toggle('active');
        }

        // Pasar a la siguiente actividad
        function nextActivity() {
            if (activities.length === 0) return;
            
            const info = getTimeRemaining();
            if (!info) return;

            let targetIndex;
            if (info.isNext) {
                targetIndex = info.index;
            } else {
                targetIndex = info.index + 1;
            }

            if (targetIndex >= activities.length) {
                alert('No hay m√°s actividades');
                return;
            }

            // Calcular el tiempo actual
            const now = new Date();
            const currentMinutes = now.getHours() * 60 + now.getMinutes();
            const currentSeconds = now.getSeconds();
            const currentTime = currentMinutes + (currentSeconds / 60);

            // Obtener el tiempo original de inicio de la actividad objetivo
            const targetActivity = originalActivities[targetIndex];
            const originalTargetStartTime = parseTime(targetActivity.time);
            
            // Calcular el delta necesario para que la siguiente actividad comience ahora
            // El delta es la diferencia entre el tiempo actual y el tiempo original de inicio
            const delta = currentTime - originalTargetStartTime;
            
            // Actualizar el delta global (acumulativo)
            timeDelta = delta;
            
            // Ajustar todos los tiempos
            adjustActivityTimes();
            
            // Actualizar display
            updateDisplay();
            updateControlButtons();
        }

        // Volver a la actividad anterior
        function previousActivity() {
            if (activities.length === 0) return;
            
            const info = getTimeRemaining();
            
            let targetIndex;
            if (!info) {
                // Si no hay actividad actual, ir a la √∫ltima
                targetIndex = activities.length - 1;
            } else if (info.isNext) {
                targetIndex = info.index - 1;
            } else {
                targetIndex = info.index - 1;
            }

            if (targetIndex < 0) {
                alert('No hay actividad anterior');
                return;
            }

            // Calcular el tiempo actual
            const now = new Date();
            const currentMinutes = now.getHours() * 60 + now.getMinutes();
            const currentSeconds = now.getSeconds();
            const currentTime = currentMinutes + (currentSeconds / 60);

            // Obtener el tiempo original de inicio de la actividad objetivo
            const targetActivity = originalActivities[targetIndex];
            const originalTargetStartTime = parseTime(targetActivity.time);
            
            // Calcular el delta necesario para que la actividad anterior comience ahora
            const delta = currentTime - originalTargetStartTime;
            
            // Actualizar el delta global (acumulativo)
            timeDelta = delta;
            
            // Ajustar todos los tiempos
            adjustActivityTimes();
            
            // Actualizar display
            updateDisplay();
            updateControlButtons();
        }

        // Pausar/Reanudar
        function togglePause() {
            if (isPaused) {
                // Reanudar: calcular cu√°nto tiempo pas√≥ en pausa y ajustar el delta
                if (pauseStartTime) {
                    const now = new Date();
                    // Calcular la duraci√≥n de la pausa en minutos (con precisi√≥n de milisegundos)
                    const pauseDurationMs = now - pauseStartTime;
                    const pauseDuration = pauseDurationMs / 1000 / 60; // convertir a minutos
                    
                    // Ajustar el delta para que los tiempos de inicio se muevan hacia adelante
                    // Esto compensa el tiempo que pas√≥ mientras estaba pausado
                    // El delta se suma para mover los tiempos de inicio hacia el futuro
                    timeDelta += pauseDuration;
                    adjustActivityTimes();
                }
                isPaused = false;
                pauseStartTime = null;
            } else {
                // Pausar: guardar el tiempo actual exacto
                isPaused = true;
                pauseStartTime = new Date();
            }
            updateDisplay();
            updateControlButtons();
        }

        // Volver a la agenda programada original
        function resetToSchedule() {
            timeDelta = 0;
            isPaused = false;
            pauseStartTime = null;
            adjustActivityTimes();
            updateDisplay();
            updateControlButtons();
        }

        // Actualizar estado de los botones de control
        function updateControlButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const pauseBtn = document.getElementById('pauseBtn');
            const resetBtn = document.getElementById('resetBtn');

            if (activities.length === 0) {
                prevBtn.classList.add('disabled');
                nextBtn.classList.add('disabled');
                pauseBtn.classList.add('disabled');
                resetBtn.classList.add('disabled');
                return;
            }

            const info = getTimeRemaining();
            
            // Bot√≥n anterior
            if (info && !info.isNext && info.index > 0) {
                prevBtn.classList.remove('disabled');
            } else if (info && info.isNext && info.index > 0) {
                prevBtn.classList.remove('disabled');
            } else {
                prevBtn.classList.add('disabled');
            }

            // Bot√≥n siguiente
            if (info && !info.isNext && info.index < activities.length - 1) {
                nextBtn.classList.remove('disabled');
            } else if (info && info.isNext) {
                nextBtn.classList.remove('disabled');
            } else {
                nextBtn.classList.add('disabled');
            }

            // Bot√≥n pausa siempre disponible si hay actividades
            pauseBtn.classList.remove('disabled');
            pauseBtn.textContent = isPaused ? '‚ñ∂Ô∏è' : '‚èØ';
            
            // Bot√≥n reset solo disponible si hay cambios
            if (timeDelta !== 0 || isPaused) {
                resetBtn.classList.remove('disabled');
            } else {
                resetBtn.classList.add('disabled');
            }
        }

        // Exportar a CSV
        function exportToCSV() {
            if (activities.length === 0) {
                alert('No hay actividades para exportar');
                return;
            }

            let csv = 'Hora,Duraci√≥n (minutos),Actividad\n';
            activities.forEach(act => {
                csv += `"${act.time}","${act.duration}","${act.activity}"\n`;
            });

            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', 'actividades_taller.csv');
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Importar desde CSV
        function importFromCSV(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                const text = e.target.result;
                const lines = text.split('\n').filter(line => line.trim());
                
                if (lines.length < 2) {
                    alert('El archivo CSV no tiene el formato correcto');
                    return;
                }

                const newActivities = [];
                for (let i = 1; i < lines.length; i++) {
                    const line = lines[i];
                    // Parsear CSV simple (maneja comillas)
                    const matches = line.match(/(".*?"|[^,]+)(?=\s*,|\s*$)/g);
                    if (matches && matches.length >= 3) {
                        const time = matches[0].replace(/"/g, '').trim();
                        const duration = parseInt(matches[1].replace(/"/g, '').trim());
                        const activity = matches[2].replace(/"/g, '').trim();
                        
                        if (time && duration && activity) {
                            newActivities.push({ time, duration, activity });
                        }
                    }
                }

                if (newActivities.length > 0) {
                    // Verificar colisiones en las actividades importadas
                    const collisions = [];
                    for (let i = 0; i < newActivities.length; i++) {
                        for (let j = i + 1; j < newActivities.length; j++) {
                            const act1 = newActivities[i];
                            const act2 = newActivities[j];
                            const start1 = parseTime(act1.time);
                            const end1 = start1 + act1.duration;
                            const start2 = parseTime(act2.time);
                            const end2 = start2 + act2.duration;

                            if (start1 < end2 && end1 > start2) {
                                collisions.push({ act1, act2 });
                            }
                        }
                    }

                    if (collisions.length > 0) {
                        alert(`Se detectaron ${collisions.length} colisi√≥n(es) en las actividades a importar. Por favor, corrige el archivo CSV antes de importar.`);
                        return;
                    }

                    if (confirm(`¬øImportar ${newActivities.length} actividades? Esto reemplazar√° las actividades actuales.`)) {
                        activities = newActivities;
                        activities.sort((a, b) => {
                            const timeA = parseTime(a.time);
                            const timeB = parseTime(b.time);
                            return timeA - timeB;
                        });
                        saveActivities();
                        updateActivitiesDisplay();
                        alert('Actividades importadas correctamente');
                    }
                } else {
                    alert('No se pudieron importar actividades. Verifica el formato del CSV.');
                }
            };
            reader.readAsText(file);
            event.target.value = ''; // Reset input
        }

        // Cargar configuraci√≥n de fuente
        function loadFontConfig() {
            const savedFont = localStorage.getItem('workshopFont');
            const savedCustomFont = localStorage.getItem('workshopCustomFont');
            
            if (savedFont) {
                document.getElementById('fontFamily').value = savedFont;
            }
            if (savedCustomFont) {
                document.getElementById('customFont').value = savedCustomFont;
            }
            updateFont();
        }

        // Actualizar fuente del display
        function updateFont() {
            const fontSelect = document.getElementById('fontFamily');
            const customFontInput = document.getElementById('customFont');
            const display = document.getElementById('currentActivity');
            const timeDisplay = document.getElementById('timeRemaining');
            const preview = document.getElementById('fontPreview');
            
            let selectedFont = fontSelect.value;
            
            // Si es "custom", usar la fuente personalizada
            if (selectedFont === 'custom') {
                selectedFont = customFontInput.value.trim();
                if (!selectedFont) {
                    selectedFont = 'Arial'; // Fallback si est√° vac√≠o
                }
            }
            
            // Aplicar fuente al display
            const fontFamily = selectedFont ? `"${selectedFont}", Arial, sans-serif` : 'Arial, sans-serif';
            display.style.fontFamily = fontFamily;
            timeDisplay.style.fontFamily = fontFamily;
            preview.style.fontFamily = fontFamily;
            
            // Guardar configuraci√≥n
            localStorage.setItem('workshopFont', fontSelect.value);
            localStorage.setItem('workshopCustomFont', customFontInput.value);
        }

        // Inicializar
        populateTimeSelectors();
        
        // Agregar event listeners a los selects de tiempo
        document.getElementById('timeHour').addEventListener('change', syncTimeField);
        document.getElementById('timeMinute').addEventListener('change', syncTimeField);
        document.getElementById('timeAmPm').addEventListener('change', syncTimeField);
        
        // Actualizar reloj
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('clock').textContent = `${hours}:${minutes}:${seconds}`;
        }

        loadActivities();
        loadFontConfig();
        updateActivitiesDisplay();
        updateDisplay();
        updateControlButtons();
        updateClock();
        setInterval(() => {
            updateDisplay();
            updateControlButtons();
        }, 100); // Actualizar cada 100ms para countdown preciso
        setInterval(updateClock, 1000); // Actualizar reloj cada segundo
    </script>
</body>
</html>
